<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Europe Market ‚Äî European Grocery Store | Fort Myers, FL</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Nunito:wght@400;500;600;700;800&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ===== VARIABLES ===== */
:root {
  --red: #E21A22;
  --red-dark: #B71518;
  --red-light: #FF3B3B;
  --blue: #003DA5;
  --blue-dark: #002B7A;
  --blue-light: #1A5BC4;
  --gold: #FFD700;
  --gold-dark: #D4A800;
  --cream: #FFF9F0;
  --cream-dark: #F0E6D4;
  --white: #FFFFFF;
  --dark: #1A1A2E;
  --text: #2C2C2C;
  --text-light: #6B7280;
  --green: #27AE60;
  --shadow: 0 4px 20px rgba(0,0,0,0.08);
  --shadow-lg: 0 12px 40px rgba(0,0,0,0.15);
  --radius: 14px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  font-family: 'Nunito', sans-serif;
  background: var(--cream);
  color: var(--text);
  overflow-x: hidden;
}

/* ===== HEADER ===== */
.header {
  background: var(--red);
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 4px 24px rgba(226,26,34,0.3);
}

.header-inner {
  max-width: 1300px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 32px;
}

.logo {
  display: flex;
  align-items: center;
  gap: 14px;
  text-decoration: none;
  cursor: pointer;
}

.logo-img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--gold);
  box-shadow: 0 4px 16px rgba(0,0,0,0.3);
}

.logo-text {
  display: flex;
  flex-direction: column;
}

.logo-text h1 {
  font-family: 'Playfair Display', serif;
  color: var(--white);
  font-size: 30px;
  font-weight: 900;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  line-height: 1;
  letter-spacing: 2px;
}

.logo-text span {
  color: var(--gold);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 3px;
  text-transform: uppercase;
}

nav {
  display: flex;
  gap: 4px;
}

nav a {
  color: rgba(255,255,255,0.9);
  text-decoration: none;
  padding: 10px 18px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 14px;
  transition: all 0.3s;
  cursor: pointer;
  letter-spacing: 0.3px;
}

nav a:hover {
  background: rgba(255,255,255,0.15);
  color: var(--gold);
}

nav a.active {
  background: rgba(255,255,255,0.2);
  color: var(--gold);
}

.mobile-menu {
  display: none;
  background: none;
  border: none;
  color: white;
  font-size: 30px;
  cursor: pointer;
}

.lang-switch {
  display: flex;
  gap: 4px;
  margin-left: 12px;
  background: rgba(255,255,255,0.15);
  border-radius: 8px;
  padding: 3px;
}

.lang-btn {
  padding: 5px 10px;
  border: none;
  border-radius: 6px;
  background: transparent;
  color: rgba(255,255,255,0.7);
  font-family: 'Nunito', sans-serif;
  font-size: 12px;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.3s;
}

.lang-btn.active {
  background: white;
  color: var(--red);
}

.lang-btn:hover { color: white; }

/* ===== HERO ===== */
.hero {
  background: linear-gradient(135deg, var(--red) 0%, var(--red-dark) 40%, #8B0000 100%);
  padding: 70px 32px 80px;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.hero::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: 
    radial-gradient(circle at 15% 50%, rgba(0,61,165,0.2) 0%, transparent 50%),
    radial-gradient(circle at 85% 30%, rgba(255,215,0,0.1) 0%, transparent 40%);
  pointer-events: none;
}

/* EU stars decoration */
.hero::after {
  content: '‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÖ';
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255,215,0,0.15);
  font-size: 24px;
  letter-spacing: 12px;
  white-space: nowrap;
}

.hero-content {
  position: relative;
  z-index: 1;
  max-width: 800px;
  margin: 0 auto;
}

.hero-logo {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 4px solid var(--gold);
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  margin: 0 auto 24px;
  display: block;
  object-fit: cover;
}

.hero h2 {
  font-family: 'Playfair Display', serif;
  color: var(--white);
  font-size: 48px;
  font-weight: 800;
  margin-bottom: 12px;
  text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
  line-height: 1.1;
}

.hero h2 em {
  color: var(--gold);
  font-style: normal;
}

.hero p {
  color: rgba(255,255,255,0.85);
  font-size: 18px;
  margin-bottom: 28px;
  line-height: 1.6;
}

.hero-tags {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}

.hero-tag {
  background: rgba(0,61,165,0.5);
  border: 1px solid rgba(255,215,0,0.3);
  padding: 8px 20px;
  border-radius: 50px;
  color: var(--white);
  font-size: 13px;
  font-weight: 700;
  backdrop-filter: blur(4px);
}

/* ===== INFO STRIP ===== */
.info-strip {
  background: var(--blue);
  padding: 14px 32px;
  overflow: hidden;
}

.info-strip-inner {
  max-width: 1300px;
  margin: 0 auto;
  display: flex;
  justify-content: center;
  gap: 40px;
  flex-wrap: wrap;
}

.info-item {
  color: var(--white);
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}

.info-item a {
  color: var(--gold);
  text-decoration: none;
  font-weight: 800;
}

.info-item a:hover { text-decoration: underline; }

.snap-badge {
  background: var(--gold);
  color: var(--blue-dark);
  padding: 3px 10px;
  border-radius: 4px;
  font-weight: 800;
  font-size: 11px;
}

/* ===== PAGE SECTIONS ===== */
.page {
  max-width: 1300px;
  margin: 0 auto;
  padding: 40px 32px;
  display: none;
}
.page.active { display: block; }

.section-head {
  text-align: center;
  margin-bottom: 40px;
}

.section-head h2 {
  font-family: 'Playfair Display', serif;
  font-size: 38px;
  font-weight: 800;
  color: var(--red);
  margin-bottom: 6px;
}

.section-head p {
  color: var(--text-light);
  font-size: 16px;
}

/* ===== HOME ‚Äî GALLERY ===== */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-bottom: 48px;
}

.gallery-item {
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
  aspect-ratio: 4/3;
  position: relative;
  cursor: pointer;
}

.gallery-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s;
}

.gallery-item:hover img { transform: scale(1.05); }

.gallery-item .overlay {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  background: linear-gradient(transparent, rgba(0,0,0,0.7));
  padding: 20px 16px 14px;
  color: white;
  font-weight: 700;
  font-size: 14px;
}

/* Services cards */
.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-bottom: 48px;
}

.service-card {
  background: var(--white);
  border-radius: var(--radius);
  padding: 28px 20px;
  text-align: center;
  box-shadow: var(--shadow);
  border-top: 4px solid var(--red);
  transition: transform 0.3s;
}

.service-card:hover { transform: translateY(-4px); }
.service-card .svc-icon { font-size: 36px; margin-bottom: 10px; }
.service-card h4 { color: var(--blue); font-size: 15px; margin-bottom: 4px; }
.service-card p { color: var(--text-light); font-size: 13px; }

/* ===== PRODUCTS ===== */
.prod-filters {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 28px;
}

.prod-btn {
  padding: 9px 22px;
  border: 2px solid var(--cream-dark);
  border-radius: 50px;
  background: var(--white);
  font-family: 'Nunito', sans-serif;
  font-weight: 700;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.3s;
  color: var(--text);
}

.prod-btn:hover, .prod-btn.active {
  background: var(--red);
  color: var(--white);
  border-color: var(--red);
}

.prod-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 20px;
}

.prod-card {
  background: var(--white);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
  transition: all 0.3s;
  border-bottom: 3px solid transparent;
  position: relative;
  overflow: hidden;
}

.prod-card:hover {
  transform: translateY(-6px);
  box-shadow: var(--shadow-lg);
  border-bottom-color: var(--red);
}

.prod-card .prod-emoji { font-size: 44px; margin-bottom: 12px; display: block; }
.prod-card h3 { font-size: 16px; color: var(--dark); margin-bottom: 4px; font-weight: 800; }
.prod-card p { color: var(--text-light); font-size: 13px; line-height: 1.5; }

.prod-tag {
  display: inline-block;
  margin-top: 10px;
  padding: 3px 12px;
  border-radius: 50px;
  font-size: 11px;
  font-weight: 800;
  background: #FFF3CD;
  color: var(--red-dark);
}

/* ============================== */
/* ===== BULLETIN BOARD ========= */
/* ============================== */
.board-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  flex-wrap: wrap;
  gap: 16px;
}

.board-top h2 {
  font-family: 'Playfair Display', serif;
  font-size: 32px;
  color: var(--red);
}

.add-note-btn {
  background: var(--red);
  color: white;
  border: none;
  padding: 12px 28px;
  border-radius: 10px;
  font-family: 'Nunito', sans-serif;
  font-weight: 800;
  font-size: 15px;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 4px 16px rgba(226,26,34,0.3);
}

.add-note-btn:hover {
  background: var(--red-dark);
  transform: translateY(-2px);
}

/* Cork board */
.cork-board {
  background: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 20px,
      rgba(139,90,43,0.03) 20px,
      rgba(139,90,43,0.03) 21px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 20px,
      rgba(139,90,43,0.03) 20px,
      rgba(139,90,43,0.03) 21px
    ),
    linear-gradient(135deg, #D2A76A 0%, #C4935A 30%, #B8844D 60%, #D2A76A 100%);
  border-radius: 16px;
  padding: 40px 32px;
  box-shadow: 
    inset 0 2px 8px rgba(0,0,0,0.2),
    0 8px 32px rgba(0,0,0,0.15);
  border: 12px solid #8B5E3C;
  position: relative;
  min-height: 500px;
}

/* Board frame screws */
.cork-board::before, .cork-board::after {
  content: '‚öô';
  position: absolute;
  top: -6px;
  font-size: 14px;
  color: #A0A0A0;
  z-index: 2;
}
.cork-board::before { left: 8px; }
.cork-board::after { right: 8px; }

.board-filters-row {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 28px;
}

.bf-tag {
  padding: 6px 16px;
  border-radius: 50px;
  background: rgba(255,255,255,0.7);
  border: none;
  font-family: 'Nunito', sans-serif;
  font-weight: 700;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s;
  color: #5D4037;
}

.bf-tag:hover, .bf-tag.active {
  background: var(--red);
  color: white;
}

/* Sticky notes grid */
.notes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 24px;
}

/* Individual sticky note */
.sticky-note {
  padding: 24px 20px 18px;
  border-radius: 2px 2px 2px 2px;
  min-height: 180px;
  position: relative;
  box-shadow: 
    3px 3px 7px rgba(0,0,0,0.15),
    -1px -1px 3px rgba(0,0,0,0.05);
  transition: transform 0.3s, box-shadow 0.3s;
  cursor: default;
  display: flex;
  flex-direction: column;
  animation: noteIn 0.5s ease;
}

@keyframes noteIn {
  from { opacity: 0; transform: scale(0.9) rotate(-2deg); }
  to { opacity: 1; transform: scale(1) rotate(var(--rot, 0deg)); }
}

.sticky-note:hover {
  transform: scale(1.03) rotate(0deg) !important;
  box-shadow: 6px 6px 14px rgba(0,0,0,0.2);
  z-index: 10;
}

/* Pin at top */
.sticky-note::before {
  content: '';
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 20px;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3), inset 0 -2px 3px rgba(0,0,0,0.15);
  z-index: 2;
}

/* Color variants */
.note-yellow { background: linear-gradient(135deg, #FFEB3B, #FFF176); }
.note-yellow::before { background: radial-gradient(circle at 40% 35%, #FF5252, #D32F2F); }

.note-pink { background: linear-gradient(135deg, #F8BBD0, #FCE4EC); }
.note-pink::before { background: radial-gradient(circle at 40% 35%, #4CAF50, #388E3C); }

.note-blue { background: linear-gradient(135deg, #BBDEFB, #E3F2FD); }
.note-blue::before { background: radial-gradient(circle at 40% 35%, #FF9800, #F57C00); }

.note-green { background: linear-gradient(135deg, #C8E6C9, #E8F5E9); }
.note-green::before { background: radial-gradient(circle at 40% 35%, #9C27B0, #7B1FA2); }

.note-orange { background: linear-gradient(135deg, #FFE0B2, #FFF3E0); }
.note-orange::before { background: radial-gradient(circle at 40% 35%, #2196F3, #1976D2); }

.note-white { background: linear-gradient(135deg, #FFFFFF, #F5F5F5); }
.note-white::before { background: radial-gradient(circle at 40% 35%, #E91E63, #C2185B); }

.note-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
}

.note-category {
  font-size: 10px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
  padding: 2px 8px;
  border-radius: 3px;
  background: rgba(0,0,0,0.08);
}

.note-store-badge {
  font-size: 10px;
  font-weight: 800;
  background: var(--red);
  color: white;
  padding: 2px 8px;
  border-radius: 3px;
}

.note-author {
  font-family: 'Caveat', cursive;
  font-size: 18px;
  font-weight: 700;
  color: rgba(0,0,0,0.7);
  margin-bottom: 6px;
}

.note-text {
  font-family: 'Caveat', cursive;
  font-size: 17px;
  line-height: 1.5;
  color: rgba(0,0,0,0.75);
  flex: 1;
}

.note-text strong {
  color: rgba(0,0,0,0.9);
}

.note-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px dashed rgba(0,0,0,0.1);
}

.note-time {
  font-size: 11px;
  color: rgba(0,0,0,0.4);
  font-family: 'Nunito', sans-serif;
}

.note-actions {
  display: flex;
  gap: 6px;
}

.note-action {
  background: none;
  border: none;
  font-size: 14px;
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 4px;
  transition: background 0.2s;
  font-family: 'Nunito', sans-serif;
  color: rgba(0,0,0,0.5);
}

.note-action:hover { background: rgba(0,0,0,0.08); }
.note-action.liked { color: var(--red); }

/* New note modal */
.modal-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.5);
  z-index: 300;
  display: none;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.modal-overlay.open { display: flex; }

.modal {
  background: var(--white);
  border-radius: 20px;
  padding: 36px;
  width: 90%;
  max-width: 480px;
  box-shadow: var(--shadow-lg);
  animation: modalIn 0.3s ease;
}

@keyframes modalIn {
  from { opacity: 0; transform: translateY(24px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

.modal h3 {
  font-family: 'Playfair Display', serif;
  font-size: 24px;
  color: var(--red);
  margin-bottom: 20px;
}

.fg { margin-bottom: 16px; }
.fg label {
  display: block;
  font-size: 12px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--text-light);
  margin-bottom: 6px;
}

.fg input, .fg textarea, .fg select {
  width: 100%;
  padding: 12px 14px;
  border: 2px solid #E5E7EB;
  border-radius: 10px;
  font-family: 'Nunito', sans-serif;
  font-size: 14px;
  transition: border-color 0.3s;
}

.fg input:focus, .fg textarea:focus, .fg select:focus {
  outline: none;
  border-color: var(--red);
}

.fg textarea { height: 100px; resize: vertical; }

.modal-btns {
  display: flex;
  gap: 12px;
  justify-content: flex-end;
  margin-top: 20px;
}

.btn-cancel {
  padding: 12px 24px;
  border: 2px solid #E5E7EB;
  border-radius: 10px;
  background: transparent;
  font-family: 'Nunito', sans-serif;
  font-weight: 700;
  cursor: pointer;
  font-size: 14px;
}

.btn-submit {
  padding: 12px 28px;
  background: var(--red);
  color: white;
  border: none;
  border-radius: 10px;
  font-family: 'Nunito', sans-serif;
  font-weight: 800;
  cursor: pointer;
  font-size: 14px;
  transition: background 0.3s;
}

.btn-submit:hover { background: var(--red-dark); }

/* ===== ABOUT ===== */
.about-cards {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
  margin-bottom: 40px;
}

.about-card {
  background: var(--white);
  border-radius: var(--radius);
  padding: 32px;
  box-shadow: var(--shadow);
  border-left: 5px solid var(--red);
}

.about-card h3 {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  color: var(--blue);
  margin-bottom: 10px;
}

.about-card p {
  color: var(--text-light);
  line-height: 1.7;
  font-size: 15px;
}

.map-box {
  background: var(--white);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
}

.map-box iframe { width: 100%; height: 350px; border: none; }

.map-bar {
  padding: 20px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
}

.map-bar span { font-weight: 800; color: var(--dark); }

.map-btn {
  background: var(--red);
  color: white;
  padding: 10px 24px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 800;
  font-size: 14px;
  transition: all 0.3s;
}

.map-btn:hover { background: var(--red-dark); transform: translateY(-2px); }

/* ===== CHAT FAB ===== */
.chat-fab {
  position: fixed;
  bottom: 24px;
  right: 24px;
  width: 64px;
  height: 64px;
  background: var(--red);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  cursor: pointer;
  box-shadow: 0 8px 28px rgba(226,26,34,0.4);
  transition: all 0.3s;
  z-index: 200;
  border: 3px solid var(--gold);
}

.chat-fab:hover { transform: scale(1.1); background: var(--red-dark); }

.chat-fab .cbadge {
  position: absolute;
  top: -4px; right: -4px;
  width: 22px; height: 22px;
  background: var(--blue);
  border-radius: 50%;
  font-size: 11px;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  border: 2px solid white;
}

.chat-win {
  position: fixed;
  bottom: 100px;
  right: 24px;
  width: 380px;
  height: 520px;
  background: var(--white);
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.25);
  display: none;
  flex-direction: column;
  z-index: 200;
  overflow: hidden;
  animation: chatPop 0.3s ease;
}

@keyframes chatPop {
  from { opacity: 0; transform: translateY(20px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

.chat-win.open { display: flex; }

.chat-head {
  background: var(--red);
  padding: 16px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.chat-head-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.chat-head-logo {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid var(--gold);
  object-fit: cover;
}

.chat-head-info h4 { color: white; font-size: 15px; }
.chat-head-info span { color: var(--gold); font-size: 12px; }

.chat-x {
  background: none;
  border: none;
  color: rgba(255,255,255,0.7);
  font-size: 24px;
  cursor: pointer;
}

.chat-x:hover { color: white; }

.chat-msgs {
  flex: 1;
  padding: 16px;
  overflow-y: auto;
  background: #FFF5F5;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.cmsg {
  max-width: 85%;
  padding: 12px 16px;
  border-radius: 16px;
  font-size: 14px;
  line-height: 1.5;
  animation: msgFade 0.3s ease;
}

@keyframes msgFade {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

.cmsg.bot {
  background: var(--white);
  color: var(--text);
  align-self: flex-start;
  border-bottom-left-radius: 4px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
}

.cmsg.user {
  background: var(--red);
  color: white;
  align-self: flex-end;
  border-bottom-right-radius: 4px;
}

.cmsg .tm { font-size: 10px; opacity: 0.5; margin-top: 4px; }

.chat-bar {
  padding: 14px;
  background: white;
  border-top: 1px solid #F0F0F0;
  display: flex;
  gap: 8px;
}

.chat-bar input {
  flex: 1;
  padding: 12px 16px;
  border: 2px solid #F0F0F0;
  border-radius: 12px;
  font-family: 'Nunito', sans-serif;
  font-size: 14px;
}

.chat-bar input:focus { outline: none; border-color: var(--red); }

.chat-send {
  width: 44px;
  height: 44px;
  background: var(--red);
  border: none;
  border-radius: 12px;
  color: white;
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.3s;
}

.chat-send:hover { background: var(--red-dark); }

/* ===== MESSENGER PAGE ===== */
.messenger-container {
  display: grid;
  grid-template-columns: 340px 1fr;
  height: calc(100vh - 80px);
  background: var(--white);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-lg);
}

/* Sidebar - contacts */
.msg-sidebar {
  background: #FAFAFA;
  border-right: 1px solid #E5E7EB;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.msg-sidebar-header {
  padding: 20px;
  background: var(--red);
  color: white;
}

.msg-sidebar-header h3 {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  margin-bottom: 4px;
}

.msg-sidebar-header p {
  font-size: 12px;
  opacity: 0.8;
}

.msg-search {
  padding: 12px 16px;
  border-bottom: 1px solid #E5E7EB;
}

.msg-search input {
  width: 100%;
  padding: 10px 14px 10px 36px;
  border: 2px solid #E5E7EB;
  border-radius: 10px;
  font-family: 'Nunito', sans-serif;
  font-size: 14px;
  background: white url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%239CA3AF' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E") no-repeat 12px center;
  transition: border-color 0.3s;
}

.msg-search input:focus {
  outline: none;
  border-color: var(--red);
}

.msg-contacts {
  flex: 1;
  overflow-y: auto;
}

.msg-contact {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  cursor: pointer;
  transition: background 0.2s;
  border-bottom: 1px solid #F3F4F6;
  position: relative;
}

.msg-contact:hover { background: #F0F0F0; }
.msg-contact.active { background: #FFF0F0; border-left: 3px solid var(--red); }

.msg-contact-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  font-weight: 800;
  color: white;
  flex-shrink: 0;
  position: relative;
}

.msg-contact-avatar .online-dot {
  position: absolute;
  bottom: 2px;
  right: 2px;
  width: 12px;
  height: 12px;
  background: #22C55E;
  border-radius: 50%;
  border: 2px solid white;
}

.msg-contact-info {
  flex: 1;
  min-width: 0;
}

.msg-contact-info h4 {
  font-size: 14px;
  color: var(--dark);
  margin-bottom: 2px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.msg-contact-info h4 .time {
  font-size: 11px;
  color: var(--text-light);
  font-weight: 400;
}

.msg-contact-info p {
  font-size: 13px;
  color: var(--text-light);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.msg-unread {
  background: var(--red);
  color: white;
  font-size: 11px;
  font-weight: 800;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* Chat area */
.msg-chat {
  display: flex;
  flex-direction: column;
  background: #F9FAFB;
}

.msg-chat-header {
  padding: 16px 24px;
  background: white;
  border-bottom: 1px solid #E5E7EB;
  display: flex;
  align-items: center;
  gap: 14px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}

.msg-chat-header-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 800;
  color: white;
}

.msg-chat-header-info h4 {
  font-size: 16px;
  color: var(--dark);
}

.msg-chat-header-info span {
  font-size: 12px;
  color: #22C55E;
  font-weight: 600;
}

.msg-chat-header-actions {
  margin-left: auto;
  display: flex;
  gap: 8px;
}

.msg-chat-header-actions button {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: #F3F4F6;
  font-size: 18px;
  cursor: pointer;
  transition: background 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.msg-chat-header-actions button:hover { background: #E5E7EB; }

/* Messages area */
.msg-messages {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.msg-date-divider {
  text-align: center;
  margin: 16px 0;
  position: relative;
}

.msg-date-divider span {
  background: #F3F4F6;
  padding: 4px 16px;
  border-radius: 12px;
  font-size: 12px;
  color: var(--text-light);
  font-weight: 600;
}

.msg-bubble-row {
  display: flex;
  gap: 8px;
  align-items: flex-end;
  max-width: 75%;
  animation: bubbleIn 0.3s ease;
}

@keyframes bubbleIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.msg-bubble-row.sent {
  align-self: flex-end;
  flex-direction: row-reverse;
}

.msg-bubble-row.received {
  align-self: flex-start;
}

.msg-bubble-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 800;
  color: white;
  flex-shrink: 0;
}

.msg-bubble {
  padding: 12px 16px;
  border-radius: 18px;
  font-size: 14px;
  line-height: 1.5;
  position: relative;
  word-wrap: break-word;
}

.msg-bubble-row.sent .msg-bubble {
  background: var(--red);
  color: white;
  border-bottom-right-radius: 4px;
}

.msg-bubble-row.received .msg-bubble {
  background: white;
  color: var(--text);
  border-bottom-left-radius: 4px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.06);
}

.msg-bubble .msg-time {
  font-size: 10px;
  opacity: 0.6;
  margin-top: 4px;
  display: block;
}

.msg-bubble-row.sent .msg-bubble .msg-time { text-align: right; }

.msg-bubble .msg-status {
  font-size: 10px;
  opacity: 0.7;
  margin-left: 4px;
}

/* Typing indicator */
.msg-typing {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  font-size: 13px;
  color: var(--text-light);
  font-style: italic;
  display: none;
}

.msg-typing.visible { display: flex; }

.typing-dots {
  display: flex;
  gap: 3px;
}

.typing-dots span {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--text-light);
  animation: typingDot 1.4s infinite;
}

.typing-dots span:nth-child(2) { animation-delay: 0.2s; }
.typing-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes typingDot {
  0%, 60%, 100% { opacity: 0.3; transform: translateY(0); }
  30% { opacity: 1; transform: translateY(-4px); }
}

/* Input area */
.msg-input-area {
  padding: 16px 24px;
  background: white;
  border-top: 1px solid #E5E7EB;
  display: flex;
  gap: 10px;
  align-items: center;
}

.msg-input-area .emoji-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: transparent;
  font-size: 22px;
  cursor: pointer;
  transition: background 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.msg-input-area .emoji-btn:hover { background: #F3F4F6; }

.msg-input-area input {
  flex: 1;
  padding: 12px 18px;
  border: 2px solid #E5E7EB;
  border-radius: 24px;
  font-family: 'Nunito', sans-serif;
  font-size: 14px;
  transition: border-color 0.3s;
}

.msg-input-area input:focus {
  outline: none;
  border-color: var(--red);
}

.msg-input-area .send-btn {
  width: 44px;
  height: 44px;
  background: var(--red);
  border: none;
  border-radius: 50%;
  color: white;
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  box-shadow: 0 4px 12px rgba(226,26,34,0.3);
}

.msg-input-area .send-btn:hover {
  background: var(--red-dark);
  transform: scale(1.05);
}

/* Empty state */
.msg-empty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--text-light);
  gap: 12px;
}

.msg-empty .empty-icon {
  font-size: 64px;
  opacity: 0.5;
}

.msg-empty h3 {
  font-family: 'Playfair Display', serif;
  font-size: 24px;
  color: var(--dark);
}

.msg-empty p {
  font-size: 14px;
  max-width: 300px;
  text-align: center;
  line-height: 1.6;
}

/* Login overlay for messenger */
.msg-login {
  display: flex;
  align-items: center;
  justify-content: center;
  height: calc(100vh - 80px);
}

.msg-login-card {
  background: white;
  border-radius: 20px;
  padding: 48px;
  box-shadow: var(--shadow-lg);
  text-align: center;
  max-width: 400px;
  width: 90%;
}

.msg-login-card .login-icon {
  font-size: 56px;
  margin-bottom: 16px;
}

.msg-login-card h2 {
  font-family: 'Playfair Display', serif;
  font-size: 28px;
  color: var(--red);
  margin-bottom: 8px;
}

.msg-login-card p {
  color: var(--text-light);
  margin-bottom: 24px;
  font-size: 14px;
}

.msg-login-card input {
  width: 100%;
  padding: 14px 18px;
  border: 2px solid #E5E7EB;
  border-radius: 12px;
  font-family: 'Nunito', sans-serif;
  font-size: 16px;
  margin-bottom: 16px;
  text-align: center;
}

.msg-login-card input:focus {
  outline: none;
  border-color: var(--red);
}

.msg-login-card button {
  width: 100%;
  padding: 14px;
  background: var(--red);
  color: white;
  border: none;
  border-radius: 12px;
  font-family: 'Nunito', sans-serif;
  font-weight: 800;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.3s;
}

.msg-login-card button:hover { background: var(--red-dark); }

/* Mobile back button */
.msg-back-btn {
  display: none;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  padding: 4px;
  margin-right: 8px;
}

/* Responsive messenger */
@media (max-width: 768px) {
  .messenger-container {
    grid-template-columns: 1fr;
    height: calc(100vh - 70px);
  }
  .msg-sidebar { display: flex; }
  .msg-chat { display: none; }
  .messenger-container.chat-open .msg-sidebar { display: none; }
  .messenger-container.chat-open .msg-chat { display: flex; }
  .msg-back-btn { display: block; }
  .msg-bubble-row { max-width: 85%; }
}

/* ===== FOOTER ===== */
.footer {
  background: var(--dark);
  padding: 40px 32px;
  text-align: center;
  color: rgba(255,255,255,0.5);
}

.footer-brand {
  font-family: 'Playfair Display', serif;
  font-size: 24px;
  color: white;
  margin-bottom: 4px;
}

.footer-brand em { color: var(--gold); font-style: normal; }

.footer a { color: var(--gold); text-decoration: none; }
.footer a:hover { text-decoration: underline; }

.footer-social {
  margin-top: 16px;
  display: flex;
  gap: 12px;
  justify-content: center;
}

.footer-social a {
  background: rgba(255,255,255,0.1);
  width: 40px; height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  transition: background 0.3s;
}

.footer-social a:hover { background: var(--red); }

/* ===== RESPONSIVE ===== */
@media (max-width: 900px) {
  .header-inner { padding: 10px 16px; }
  nav { display: none; }
  nav.open {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 100%; left: 0; right: 0;
    background: var(--red-dark);
    padding: 12px;
    gap: 2px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.2);
  }
  .mobile-menu { display: block; }
  .hero { padding: 48px 16px 56px; }
  .hero h2 { font-size: 40px !important; }
  .hero-logo { width: 80px; height: 80px; }
  .page { padding: 28px 16px; }
  .gallery-grid { grid-template-columns: 1fr 1fr; }
  .about-cards { grid-template-columns: 1fr; }
  .notes-grid { grid-template-columns: 1fr; }
  .cork-board { padding: 24px 16px; border-width: 8px; }
  .chat-win { width: calc(100% - 32px); right: 16px; bottom: 96px; height: 60vh; }
  .info-strip-inner { gap: 16px; font-size: 12px; }
}

@media (max-width: 600px) {
  .gallery-grid { grid-template-columns: 1fr; }
  .services-grid { grid-template-columns: 1fr 1fr; }
}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header">
  <div class="header-inner">
    <div class="logo" onclick="showPage('home')">
      <img src="img/logo.jpeg" alt="Europe Market" class="logo-img">
      <div class="logo-text">
        <h1>Europe Market</h1>
        <span>Grocery Store from Europe</span>
      </div>
    </div>
    <button class="mobile-menu" onclick="document.getElementById('nav').classList.toggle('open')">‚ò∞</button>
    <nav id="nav">
      <a class="active" onclick="showPage('home')" data-ru="–ì–ª–∞–≤–Ω–∞—è" data-en="Home" data-pl="Strona g≈Ç√≥wna">–ì–ª–∞–≤–Ω–∞—è</a>
      <a onclick="showPage('products')" data-ru="–ü—Ä–æ–¥—É–∫—Ç—ã" data-en="Products" data-pl="Produkty">–ü—Ä–æ–¥—É–∫—Ç—ã</a>
      <a onclick="showPage('board')" data-ru="–û–±—ä—è–≤–ª–µ–Ω–∏—è" data-en="Board" data-pl="Og≈Çoszenia">–û–±—ä—è–≤–ª–µ–Ω–∏—è</a>
      <a onclick="showPage('messenger')" data-ru="üí¨ –ß–∞—Ç" data-en="üí¨ Chat" data-pl="üí¨ Czat">üí¨ –ß–∞—Ç</a>
      <a onclick="showPage('about')" data-ru="–û –Ω–∞—Å" data-pl="O nas" data-en="About" data-pl="O nas">–û –Ω–∞—Å</a>
      <div class="lang-switch">
        <button onclick="setLang('ru')" class="lang-btn active" id="langRu">RU</button>
        <button onclick="setLang('en')" class="lang-btn" id="langEn">EN</button>
        <button onclick="setLang('pl')" class="lang-btn" id="langPl">PL</button>
      </div>
    </nav>
  </div>
</header>

<!-- HERO -->
<div class="hero" id="heroBlock">
  <div class="hero-content">
    <img src="img/logo.jpeg" alt="EM" class="hero-logo">
    <h2 style="font-size:64px;letter-spacing:3px;text-shadow:3px 3px 0px rgba(0,0,0,0.4), 0 0 20px rgba(0,0,0,0.2);"><span style="color:#FFFFFF;font-weight:900;">EUROPE</span> <em style="color:#FFD700;font-weight:900;">MARKET</em></h2>
    <p style="font-size:13px;letter-spacing:6px;text-transform:uppercase;font-weight:800;color:rgba(255,255,255,0.7);margin-bottom:20px;">Grocery Store from Europe</p>
    <p style="font-size:19px;line-height:1.7;" data-ru="–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ Fort Myers, Florida.<br>–ü—Ä–æ–¥—É–∫—Ç—ã –∏–∑ <strong>–†–æ—Å—Å–∏–∏</strong>, <strong>–ë–µ–ª–æ—Ä—É—Å—Å–∏–∏</strong>, <strong>–£–∫—Ä–∞–∏–Ω—ã</strong>, <strong>–ü–æ–ª—å—à–∏</strong>, <strong>–ì–µ—Ä–º–∞–Ω–∏–∏</strong>, <strong>–ß–µ—Ö–∏–∏</strong> –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω ‚Äî <em style='color:var(--gold);font-style:normal;font-weight:800;'>–≤—Å—ë –∫–∞–∫ –¥–æ–º–∞!</em>" data-en="European grocery store in Fort Myers, Florida.<br>Products from <strong>Russia</strong>, <strong>Belarus</strong>, <strong>Ukraine</strong>, <strong>Poland</strong>, <strong>Germany</strong>, <strong>Czech Republic</strong> and more ‚Äî <em style='color:var(--gold);font-style:normal;font-weight:800;'>just like home!</em>" data-pl="Europejski sklep spo≈ºywczy w Fort Myers, Floryda.<br>Produkty z <strong>Rosji</strong>, <strong>Bia≈Çorusi</strong>, <strong>Ukrainy</strong>, <strong>Polski</strong>, <strong>Niemiec</strong>, <strong>Czech</strong> i innych kraj√≥w ‚Äî <em style='color:var(--gold);font-style:normal;font-weight:800;'>wszystko jak w domu!</em>" >–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ Fort Myers, Florida.<br>–ü—Ä–æ–¥—É–∫—Ç—ã –∏–∑ <strong>–†–æ—Å—Å–∏–∏</strong>, <strong>–ë–µ–ª–æ—Ä—É—Å—Å–∏–∏</strong>, <strong>–£–∫—Ä–∞–∏–Ω—ã</strong>, <strong>–ü–æ–ª—å—à–∏</strong>, <strong>–ì–µ—Ä–º–∞–Ω–∏–∏</strong>, <strong>–ß–µ—Ö–∏–∏</strong> –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω ‚Äî <em style="color:var(--gold);font-style:normal;font-weight:800;">–≤—Å—ë –∫–∞–∫ –¥–æ–º–∞!</em></p>
    <div class="hero-tags">
      <span class="hero-tag" data-ru="üçñ –ú—è—Å–æ –∏ –∫–æ–ª–±–∞—Å—ã" data-en="üçñ Meat &amp; Sausages" data-pl="üçñ Miƒôso i kie≈Çbasy" >üçñ –ú—è—Å–æ –∏ –∫–æ–ª–±–∞—Å—ã</span>
      <span class="hero-tag" data-ru="üßÄ –°—ã—Ä—ã –∏ –º–æ–ª–æ—á–Ω–æ–µ" data-pl="üßÄ Sery i nabia≈Ç" data-en="üßÄ Cheese & Dairy" >üßÄ –°—ã—Ä—ã –∏ –º–æ–ª–æ—á–Ω–æ–µ</span>
      <span class="hero-tag" data-ru="üçû –°–≤–µ–∂–∏–π —Ö–ª–µ–±" data-pl="üçû ≈öwie≈ºy chleb" data-en="üçû Fresh Bread" >üçû –°–≤–µ–∂–∏–π —Ö–ª–µ–±</span>
      <span class="hero-tag" data-ru="üç¨ –ö–æ–Ω—Ñ–µ—Ç—ã –∏ —Å–ª–∞–¥–æ—Å—Ç–∏" data-pl="üç¨ Cukierki i s≈Çodycze" data-en="üç¨ Candy & Sweets" >üç¨ –ö–æ–Ω—Ñ–µ—Ç—ã –∏ —Å–ª–∞–¥–æ—Å—Ç–∏</span>
      <span class="hero-tag" data-ru="‚òï –ö–æ—Ñ–µ –∏ —á–∞–π" data-pl="‚òï Kawa i herbata" data-en="‚òï Coffee & Tea" >‚òï –ö–æ—Ñ–µ –∏ —á–∞–π</span>
      <span class="hero-tag" data-ru="ü•£ –ì–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã" data-pl="ü•£ GorƒÖce obiady" data-en="ü•£ Hot Lunches" >ü•£ –ì–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã</span>
    </div>
  </div>
</div>

<!-- INFO STRIP -->
<div class="info-strip">
  <div class="info-strip-inner">
    <div class="info-item">üìç 9131 College Pkwy #120, Fort Myers, FL 33919</div>
    <div class="info-item">üìû <a href="tel:+12392705210">(239) 270-5210</a></div>
    <div class="info-item">üì∑ <a href="https://instagram.com/europefoodmarket" target="_blank">@europefoodmarket</a></div>
    <div class="info-item"><span class="snap-badge">SNAP EBT</span> Accepted</div>
  </div>
</div>

<!-- ===== HOME ===== -->
<div class="page active" id="page-home">

  <!-- VIDEO -->
  <div style="max-width:800px;margin:0 auto 40px;border-radius:14px;overflow:hidden;box-shadow:0 12px 40px rgba(0,0,0,0.15);">
    <video width="100%" controls autoplay muted loop playsinline>
      <source src="video.mov" type="video/mp4">
    </video>
  </div>

  <!-- COUPON BANNER -->
  <div onclick="openCoupon()" style="max-width:600px;margin:0 auto 40px;cursor:pointer;border-radius:14px;overflow:hidden;box-shadow:0 8px 32px rgba(226,26,34,0.3);transition:transform 0.3s;position:relative;" onmouseover="this.style.transform='scale(1.03)'" onmouseout="this.style.transform='scale(1)'">
    <img src="img/coupon.jpeg" alt="Super Coupon 5% OFF" style="width:100%;display:block;">
    <div style="background:var(--red);padding:12px;text-align:center;">
      <span style="color:white;font-weight:800;font-size:16px;" data-ru="üìß –ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫—É–ø–æ–Ω –ø–æ Email –∏–ª–∏ SMS üì±" data-pl="üìß Kliknij aby otrzymaƒá kupon przez Email lub SMS üì±" data-en="üìß Click to get coupon via Email or SMS üì±" >üìß –ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫—É–ø–æ–Ω –ø–æ Email –∏–ª–∏ SMS üì±</span>
    </div>
  </div>

  <div class="section-head">
    <h2 data-ru="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!" data-pl="Witamy!" data-en="Welcome!" >–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
    <p data-ru="–í–∞—à –∫—É—Å–æ—á–µ–∫ –ï–≤—Ä–æ–ø—ã –≤ Southwest Florida" data-pl="Tw√≥j kawa≈Çek Europy w Southwest Florida" data-en="Your piece of Europe in Southwest Florida" >–í–∞—à –∫—É—Å–æ—á–µ–∫ –ï–≤—Ä–æ–ø—ã –≤ Southwest Florida</p>
  </div>

  <div class="gallery-grid">
    <div class="gallery-item">
      <img src="img/outside.jpeg" alt="Europe Market">
      <div class="overlay">üè™ –ù–∞—à –º–∞–≥–∞–∑–∏–Ω</div>
    </div>
    <div class="gallery-item">
      <img src="img/counter.jpeg" alt="–ü—Ä–∏–ª–∞–≤–æ–∫">
      <div class="overlay">üõí –ü—Ä–∏–ª–∞–≤–æ–∫ –∏ –∫–∞—Å—Å–∞</div>
    </div>
    <div class="gallery-item">
      <img src="img/aisle2.jpeg" alt="–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç">
      <div class="overlay">üç´ –®–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç</div>
    </div>
    <div class="gallery-item">
      <img src="img/window1.jpeg" alt="–ö–æ–ª–±–∞—Å—ã –∏ —Å—ã—Ä—ã">
      <div class="overlay">ü•© –ö–æ–ª–±–∞—Å—ã –∏ —Å—ã—Ä—ã</div>
    </div>
    <div class="gallery-item">
      <img src="img/window2.jpeg" alt="–•–ª–µ–± –∏ –≤—ã–ø–µ—á–∫–∞">
      <div class="overlay">üçû –•–ª–µ–±, –∏–∫—Ä–∞, –≤—ã–ø–µ—á–∫–∞</div>
    </div>
    <div class="gallery-item">
      <img src="img/aisle1.jpeg" alt="–ü–æ–ª–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞">
      <div class="overlay">üõçÔ∏è –í—Å—ë –¥–ª—è –¥–æ–º–∞</div>
    </div>
  </div>

  <div class="services-grid">
    <div class="service-card">
      <div class="svc-icon">üç≤</div>
      <h4>–ì–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã</h4>
      <p>–°—É–ø—ã, –≤—Ç–æ—Ä—ã–µ –±–ª—é–¥–∞</p>
    </div>
    <div class="service-card">
      <div class="svc-icon">ü•™</div>
      <h4>–°—ç–Ω–¥–≤–∏—á–∏</h4>
      <p>–°–≤–µ–∂–∏–µ, –Ω–∞ –∑–∞–∫–∞–∑</p>
    </div>
    <div class="service-card">
      <div class="svc-icon">‚òï</div>
      <h4>–ö–æ—Ñ–µ –∏ —á–∞–π</h4>
      <p>–ù–∞–ø–∏—Ç–∫–∏ —Å —Å–æ–±–æ–π</p>
    </div>
    <div class="service-card">
      <div class="svc-icon">ü•ê</div>
      <h4>–í—ã–ø–µ—á–∫–∞</h4>
      <p>–°–≤–µ–∂–∞—è, –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
    </div>
    <div class="service-card">
      <div class="svc-icon">ü•©</div>
      <h4>Deli</h4>
      <p>–ù–∞—Ä–µ–∑–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑</p>
    </div>
    <div class="service-card">
      <div class="svc-icon">üêü</div>
      <h4>–ò–∫—Ä–∞ –∏ —Ä—ã–±–∞</h4>
      <p>–ö—Ä–∞—Å–Ω–∞—è, —á—ë—Ä–Ω–∞—è –∏–∫—Ä–∞</p>
    </div>
  </div>
</div>

<!-- ===== PRODUCTS ===== -->
<div class="page" id="page-products">
  <div class="section-head">
    <h2 data-ru="–ù–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã" data-pl="Nasze produkty" data-en="Our Products" >–ù–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã</h2>
    <p data-ru="–ë–æ–ª–µ–µ 2000 –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –∏–∑ –ï–≤—Ä–æ–ø—ã" data-pl="Ponad 2000 artyku≈Ç√≥w z Europy" data-en="Over 2000 items from Europe" >–ë–æ–ª–µ–µ 2000 –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –∏–∑ –ï–≤—Ä–æ–ø—ã</p>
  </div>
  <div class="prod-filters">
    <button class="prod-btn active" onclick="fProd('all',this)">–í—Å–µ</button>
    <button class="prod-btn" onclick="fProd('meat',this)">ü•© –ú—è—Å–æ</button>
    <button class="prod-btn" onclick="fProd('dairy',this)">üßÄ –ú–æ–ª–æ—á–Ω–æ–µ</button>
    <button class="prod-btn" onclick="fProd('sweets',this)">üç¨ –°–ª–∞–¥–æ—Å—Ç–∏</button>
    <button class="prod-btn" onclick="fProd('bread',this)">üçû –•–ª–µ–±</button>
    <button class="prod-btn" onclick="fProd('canned',this)">ü´ô –ö–æ–Ω—Å–µ—Ä–≤—ã</button>
    <button class="prod-btn" onclick="fProd('drinks',this)">ü•§ –ù–∞–ø–∏—Ç–∫–∏</button>
    <button class="prod-btn" onclick="fProd('spices',this)">üßÇ –ö—Ä—É–ø—ã –∏ —Å–ø–µ—Ü–∏–∏</button>
  </div>
  <div class="prod-grid" id="prodGrid"></div>
</div>

<!-- ===== BULLETIN BOARD ===== -->
<div class="page" id="page-board">
  <div class="board-top">
    <h2 data-ru="üìå –°—Ç–µ–Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π" data-pl="üìå Tablica og≈Çosze≈Ñ" data-en="üìå Bulletin Board" >üìå –°—Ç–µ–Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</h2>
    <button class="add-note-btn" onclick="openModal()" data-ru="‚úèÔ∏è –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ" data-pl="‚úèÔ∏è Dodaj og≈Çoszenie" data-en="‚úèÔ∏è Add Post" >‚úèÔ∏è –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
  </div>

  <div class="cork-board">
    <div class="board-filters-row">
      <button class="bf-tag active" onclick="fBoard('all',this)">üìã –í—Å–µ</button>
      <button class="bf-tag" onclick="fBoard('store',this)">üè™ –ú–∞–≥–∞–∑–∏–Ω</button>
      <button class="bf-tag" onclick="fBoard('sale',this)">üè∑Ô∏è –ê–∫—Ü–∏–∏</button>
      <button class="bf-tag" onclick="fBoard('recipe',this)">üç≥ –†–µ—Ü–µ–ø—Ç—ã</button>
      <button class="bf-tag" onclick="fBoard('community',this)">üë• –°–æ–æ–±—â–µ—Å—Ç–≤–æ</button>
      <button class="bf-tag" onclick="fBoard('job',this)">üíº –†–∞–±–æ—Ç–∞</button>
      <button class="bf-tag" onclick="fBoard('search',this)">üîç –ò—â—É</button>
    </div>
    <div class="notes-grid" id="notesGrid"></div>
  </div>
</div>

<!-- ===== MESSENGER ===== -->
<div class="page" id="page-messenger">
  <!-- Login screen -->
  <div class="msg-login" id="msgLogin">
    <div class="msg-login-card">
      <div class="login-icon">üí¨</div>
      <h2>Europe Market Chat</h2>
      <p>–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Europe Market. –û–±—â–∞–π—Ç–µ—Å—å —Å –∑–µ–º–ª—è–∫–∞–º–∏, –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –º–∞–≥–∞–∑–∏–Ω—É!</p>
      <input type="text" id="msgUsername" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è..." onkeypress="if(event.key==='Enter')loginChat()">
      <button onclick="loginChat()">–í–æ–π—Ç–∏ –≤ —á–∞—Ç ‚Üí</button>
    </div>
  </div>

  <!-- Messenger interface -->
  <div class="messenger-container" id="messengerApp" style="display:none;">
    <!-- Sidebar -->
    <div class="msg-sidebar">
      <div class="msg-sidebar-header">
        <h3>üí¨ –°–æ–æ–±—â–µ–Ω–∏—è</h3>
        <p id="msgUserLabel">–í—ã –≤–æ—à–ª–∏ –∫–∞–∫: ‚Äî</p>
      </div>
      <div class="msg-search">
        <input type="text" placeholder="–ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤..." oninput="searchContacts(this.value)">
      </div>
      <div class="msg-contacts" id="msgContacts"></div>
    </div>

    <!-- Chat area -->
    <div class="msg-chat" id="msgChatArea">
      <div class="msg-empty" id="msgEmpty">
        <div class="empty-icon">üì®</div>
        <h3>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</h3>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç —Å–ª–µ–≤–∞ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É</p>
      </div>
      <div id="msgChatContent" style="display:none;flex:1;display:none;flex-direction:column;">
        <div class="msg-chat-header" id="msgChatHeader">
          <button class="msg-back-btn" onclick="closeChat()">‚Üê</button>
          <div class="msg-chat-header-avatar" id="chatHeaderAvatar">EM</div>
          <div class="msg-chat-header-info">
            <h4 id="chatHeaderName">Europe Market</h4>
            <span id="chatHeaderStatus">–û–Ω–ª–∞–π–Ω</span>
          </div>
          <div class="msg-chat-header-actions">
            <button title="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">üìû</button>
            <button title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">‚ÑπÔ∏è</button>
          </div>
        </div>
        <div class="msg-messages" id="msgMessages"></div>
        <div class="msg-typing" id="msgTyping">
          <div class="typing-dots"><span></span><span></span><span></span></div>
          <span>–ø–µ—á–∞—Ç–∞–µ—Ç...</span>
        </div>
        <div class="msg-input-area">
          <button class="emoji-btn" onclick="addEmoji()">üòä</button>
          <input type="text" id="msgInput" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="if(event.key==='Enter')sendMessage()">
          <button class="send-btn" onclick="sendMessage()">‚û§</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===== ABOUT ===== -->
<div class="page" id="page-about">
  <div class="section-head">
    <h2 data-ru="–û –º–∞–≥–∞–∑–∏–Ω–µ" data-pl="O sklepie" data-en="About Us" >–û –º–∞–≥–∞–∑–∏–Ω–µ</h2>
    <p data-ru="Europe Market ‚Äî –≤–∞—à –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –º–∞–≥–∞–∑–∏–Ω –≤–æ –§–ª–æ—Ä–∏–¥–µ" data-pl="Europe Market ‚Äî Tw√≥j europejski sklep na Florydzie" data-en="Europe Market ‚Äî your European store in Florida" >Europe Market ‚Äî –≤–∞—à –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –º–∞–≥–∞–∑–∏–Ω –≤–æ –§–ª–æ—Ä–∏–¥–µ</p>
  </div>
  <div class="about-cards">
    <div class="about-card">
      <h3>üè™ <span data-ru="–û –Ω–∞—Å" data-pl="O nas" data-en="About Us" >–û –Ω–∞—Å</span></h3>
      <p data-ru="Europe Market ‚Äî –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ Fort Myers. –ú—ã –ø—Ä–∏–≤–æ–∑–∏–º –ª—É—á—à–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ –†–æ—Å—Å–∏–∏, –£–∫—Ä–∞–∏–Ω—ã, –ü–æ–ª—å—à–∏, –ì–µ—Ä–º–∞–Ω–∏–∏ –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω –ï–≤—Ä–æ–ø—ã. –ö–æ–ª–±–∞—Å—ã, –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, —Ö–ª–µ–±, –∫–æ–Ω—Ñ–µ—Ç—ã, –∫–æ–Ω—Å–µ—Ä–≤—ã ‚Äî –≤—Å—ë, —á—Ç–æ –≤—ã –ª—é–±–∏—Ç–µ!" data-en="Europe Market is a European grocery store in Fort Myers. We bring the best products from Russia, Ukraine, Poland, Germany and other European countries. Sausages, dairy, bread, candy, canned goods ‚Äî everything you love!" data-pl="Europe Market to europejski sklep spo≈ºywczy w Fort Myers. Sprowadzamy najlepsze produkty z Rosji, Ukrainy, Polski, Niemiec i innych kraj√≥w Europy. Kie≈Çbasy, nabia≈Ç, chleb, cukierki, konserwy ‚Äî wszystko, co kochasz!" >Europe Market ‚Äî –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ Fort Myers. –ú—ã –ø—Ä–∏–≤–æ–∑–∏–º –ª—É—á—à–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ –†–æ—Å—Å–∏–∏, –£–∫—Ä–∞–∏–Ω—ã, –ü–æ–ª—å—à–∏, –ì–µ—Ä–º–∞–Ω–∏–∏ –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω –ï–≤—Ä–æ–ø—ã. –ö–æ–ª–±–∞—Å—ã, –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, —Ö–ª–µ–±, –∫–æ–Ω—Ñ–µ—Ç—ã, –∫–æ–Ω—Å–µ—Ä–≤—ã ‚Äî –≤—Å—ë, —á—Ç–æ –≤—ã –ª—é–±–∏—Ç–µ!</p>
    </div>
    <div class="about-card">
      <h3>üç≤ <span data-ru="–ö—É—Ö–Ω—è –∏ Deli" data-pl="Kuchnia i Deli" data-en="Kitchen & Deli" >–ö—É—Ö–Ω—è –∏ Deli</span></h3>
      <p data-ru="–£ –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã: —Å—É–ø—ã, –≤—Ç–æ—Ä—ã–µ –±–ª—é–¥–∞, —Å—ç–Ω–¥–≤–∏—á–∏. –°–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –ö–æ—Ñ–µ –∏ —á–∞–π –Ω–∞ –≤—ã–Ω–æ—Å. Deli ‚Äî –Ω–∞—Ä–µ–∂–µ–º –∫–æ–ª–±–∞—Å—É –∏ —Å—ã—Ä –ø–æ –≤–∞—à–µ–º—É –≤–∫—É—Å—É. –ö—Ä–∞—Å–Ω–∞—è –∏ —á—ë—Ä–Ω–∞—è –∏–∫—Ä–∞." data-en="We offer hot lunches: soups, main courses, sandwiches. Fresh baked goods daily. Coffee and tea to go. Deli ‚Äî we'll slice meat and cheese to your liking. Red and black caviar." data-pl="Mamy gorƒÖce obiady: zupy, drugie dania, kanapki. ≈öwie≈ºe wypieki codziennie. Kawa i herbata na wynos. Deli ‚Äî pokroimy kie≈Çbasƒô i ser wed≈Çug Twojego gustu. Czerwony i czarny kawior." >–£ –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã: —Å—É–ø—ã, –≤—Ç–æ—Ä—ã–µ –±–ª—é–¥–∞, —Å—ç–Ω–¥–≤–∏—á–∏. –°–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –ö–æ—Ñ–µ –∏ —á–∞–π –Ω–∞ –≤—ã–Ω–æ—Å. Deli ‚Äî –Ω–∞—Ä–µ–∂–µ–º –∫–æ–ª–±–∞—Å—É –∏ —Å—ã—Ä –ø–æ –≤–∞—à–µ–º—É –≤–∫—É—Å—É. –ö—Ä–∞—Å–Ω–∞—è –∏ —á—ë—Ä–Ω–∞—è –∏–∫—Ä–∞.</p>
    </div>
    <div class="about-card">
      <h3>ü§ù <span data-ru="–°–æ–æ–±—â–µ—Å—Ç–≤–æ" data-pl="Spo≈Çeczno≈õƒá" data-en="Community" >–°–æ–æ–±—â–µ—Å—Ç–≤–æ</span></h3>
      <p data-ru="–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–∞–≥–∞–∑–∏–Ω ‚Äî –º—ã —Ü–µ–Ω—Ç—Ä –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ Southwest Florida. –ù–∞ –Ω–∞—à–µ–π —Å—Ç–µ–Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏, –∏—Å–∫–∞—Ç—å –∑–µ–º–ª—è–∫–æ–≤, —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–∞—à–∏—Ö –∞–∫—Ü–∏—è—Ö. –ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º SNAP EBT." data-en="We're not just a store ‚Äî we're the center of the European community in Southwest Florida. On our bulletin board you can share recipes, find compatriots, and learn about our sales. We accept SNAP EBT." data-pl="Nie jeste≈õmy tylko sklepem ‚Äî jeste≈õmy centrum europejskiej spo≈Çeczno≈õci w Southwest Florida. Na naszej tablicy og≈Çosze≈Ñ mo≈ºesz dzieliƒá siƒô przepisami, szukaƒá rodak√≥w, dowiadywaƒá siƒô o promocjach. Akceptujemy SNAP EBT." >–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–∞–≥–∞–∑–∏–Ω ‚Äî –º—ã —Ü–µ–Ω—Ç—Ä –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ Southwest Florida. –ù–∞ –Ω–∞—à–µ–π —Å—Ç–µ–Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏, –∏—Å–∫–∞—Ç—å –∑–µ–º–ª—è–∫–æ–≤, —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–∞—à–∏—Ö –∞–∫—Ü–∏—è—Ö. –ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º SNAP EBT.</p>
    </div>
    <div class="about-card">
      <h3>üìû <span data-ru="–ö–æ–Ω—Ç–∞–∫—Ç—ã" data-pl="Kontakt" data-en="Contacts" >–ö–æ–Ω—Ç–∞–∫—Ç—ã</span></h3>
      <p>
        <strong>–ê–¥—Ä–µ—Å:</strong> 9131 College Pkwy #120, Fort Myers, FL 33919<br>
        <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> (239) 270-5210<br>
        <strong>–î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω—ã:</strong> (347) 475-2330, (786) 606-2959<br>
        <strong>Instagram:</strong> @europefoodmarket
      </p>
    </div>
  </div>
  <div class="map-box">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3577.9!2d-81.87!3d26.56!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMjbCsDMz!5e0!3m2!1sen!2sus" loading="lazy"></iframe>
    <div class="map-bar">
      <span>üìç 9131 College Parkway #120, Fort Myers, FL 33919</span>
      <a href="https://maps.app.goo.gl/DAmGzEi19ux6sJfN7?g_st=ic" target="_blank" class="map-btn">–ü—Ä–æ–ª–æ–∂–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç ‚Üí</a>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-brand">Europe <em>Market</em></div>
  <p>9131 College Parkway #120, Fort Myers, FL 33919 | <a href="tel:+12392705210">(239) 270-5210</a></p>
  <div class="footer-social">
    <a href="https://instagram.com/europefoodmarket" target="_blank">üì∑</a>
    <a href="tel:+12392705210">üìû</a>
    <a href="https://maps.app.goo.gl/DAmGzEi19ux6sJfN7?g_st=ic" target="_blank">üìç</a>
  </div>
  <p style="margin-top:16px;font-size:12px;">¬© 2026 Europe Market. All rights reserved.</p>
</footer>

<!-- NEW NOTE MODAL -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <h3>‚úèÔ∏è –ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
    <div class="fg">
      <label>–í–∞—à–µ –∏–º—è</label>
      <input type="text" id="nName" placeholder="–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?">
    </div>
    <div class="fg">
      <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
      <select id="nCat">
        <option value="community">üë• –°–æ–æ–±—â–µ—Å—Ç–≤–æ</option>
        <option value="recipe">üç≥ –†–µ—Ü–µ–ø—Ç</option>
        <option value="search">üîç –ò—â—É / –ü—Ä–µ–¥–ª–∞–≥–∞—é</option>
      </select>
    </div>
    <div class="fg">
      <label>–¢–µ–∫—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è</label>
      <textarea id="nText" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å..."></textarea>
    </div>
    <div class="modal-btns">
      <button class="btn-cancel" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn-submit" onclick="submitNote()">–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –Ω–∞ —Å—Ç–µ–Ω—É üìå</button>
    </div>
  </div>
</div>

<!-- COUPON MODAL -->
<div class="modal-overlay" id="couponOverlay" onclick="if(event.target===this)closeCoupon()">
  <div class="modal" style="text-align:center;">
    <div style="font-size:56px;margin-bottom:12px;">üéüÔ∏è</div>
    <h3 style="font-size:28px;">–ü–æ–ª—É—á–∏—Ç–µ –∫—É–ø–æ–Ω 5% OFF!</h3>
    <p style="color:var(--text-light);margin-bottom:20px;">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É–ø–æ–Ω–∞. –ü–æ–∫–∞–∂–∏—Ç–µ –∫—É–ø–æ–Ω –Ω–∞ –∫–∞—Å—Å–µ Europe Market.</p>
    
    <div style="display:flex;gap:8px;margin-bottom:20px;">
      <button onclick="setCouponMethod('email')" id="cmEmail" style="flex:1;padding:12px;border:2px solid #E5E7EB;border-radius:10px;background:white;font-family:'Nunito',sans-serif;font-weight:700;font-size:14px;cursor:pointer;transition:all 0.3s;">üìß Email</button>
      <button onclick="setCouponMethod('sms')" id="cmSms" style="flex:1;padding:12px;border:2px solid #E5E7EB;border-radius:10px;background:white;font-family:'Nunito',sans-serif;font-weight:700;font-size:14px;cursor:pointer;transition:all 0.3s;">üì± SMS</button>
    </div>

    <div id="couponEmailField" style="display:none;" class="fg">
      <input type="email" id="couponEmail" placeholder="–í–∞—à email –∞–¥—Ä–µ—Å...">
    </div>
    <div id="couponSmsField" style="display:none;" class="fg">
      <input type="tel" id="couponPhone" placeholder="–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞...">
    </div>

    <div id="couponSendBtn" style="display:none;">
      <button onclick="sendCoupon()" class="btn-submit" style="width:100%;padding:14px;font-size:16px;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫—É–ø–æ–Ω üéâ</button>
    </div>

    <!-- Success state -->
    <div id="couponSuccess" style="display:none;padding:20px 0;">
      <div style="font-size:64px;margin-bottom:12px;">‚úÖ</div>
      <h3 style="color:var(--green);font-size:22px;">–ö—É–ø–æ–Ω –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!</h3>
      <p style="color:var(--text-light);margin-top:8px;">–ü–æ–∫–∞–∂–∏—Ç–µ –∫—É–ø–æ–Ω –Ω–∞ –∫–∞—Å—Å–µ Europe Market –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏ 5%</p>
      <div style="margin-top:20px;background:#FFF3CD;border-radius:12px;padding:20px;border:2px dashed var(--gold);">
        <div style="font-size:12px;color:var(--text-light);font-weight:700;letter-spacing:2px;text-transform:uppercase;">–í–∞—à –∫—É–ø–æ–Ω</div>
        <div style="font-size:36px;font-weight:900;color:var(--red);font-family:'Playfair Display',serif;margin:8px 0;">5% OFF</div>
        <div style="font-size:14px;color:var(--text);">Europe Market ‚Äî 9131 College Pkwy #120</div>
        <div id="couponCode" style="margin-top:8px;font-size:18px;font-weight:800;letter-spacing:4px;color:var(--blue);"></div>
      </div>
      <button onclick="closeCoupon()" class="btn-submit" style="width:100%;margin-top:16px;padding:14px;">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div class="modal-btns" id="couponCancelBtn">
      <button class="btn-cancel" onclick="closeCoupon()" style="width:100%;">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- CHAT -->
<button class="chat-fab" onclick="toggleChat()">
  üí¨
  <span class="cbadge" id="chatBadge">1</span>
</button>

<div class="chat-win" id="chatWin">
  <div class="chat-head">
    <div class="chat-head-left">
      <img src="img/logo.jpeg" alt="EM" class="chat-head-logo">
      <div class="chat-head-info">
        <h4>Europe Market</h4>
        <span>–û–Ω–ª–∞–π–Ω ‚Äî –æ—Ç–≤–µ—á–∞–µ–º –±—ã—Å—Ç—Ä–æ</span>
      </div>
    </div>
    <button class="chat-x" onclick="toggleChat()">‚úï</button>
  </div>
  <div class="chat-msgs" id="chatMsgs">
    <div class="cmsg bot">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Europe Market! –°–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö, —á–∞—Å–∞—Ö —Ä–∞–±–æ—Ç—ã –∏–ª–∏ –∞–∫—Ü–∏—è—Ö.<div class="tm">–°–µ–π—á–∞—Å</div></div>
  </div>
  <div class="chat-bar">
    <input type="text" id="chatIn" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="if(event.key==='Enter')sendMsg()">
    <button class="chat-send" onclick="sendMsg()">‚û§</button>
  </div>
</div>

<script>
// ===== NAVIGATION =====
function showPage(p) {
  document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
  document.getElementById('page-'+p).classList.add('active');
  document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('heroBlock').style.display = p==='home' ? 'block' : 'none';
  document.getElementById('nav').classList.remove('open');
  window.scrollTo(0,0);
}

// ===== PRODUCTS =====
const prods = [
  {n:"–î–æ–∫—Ç–æ—Ä—Å–∫–∞—è –∫–æ–ª–±–∞—Å–∞",d:"–í–∞—Ä—ë–Ω–∞—è, –ø–æ –ì–û–°–¢—É",c:"meat",e:"ü•©",t:"–•–∏—Ç"},
  {n:"–ö—Ä–∞–∫–æ–≤—Å–∫–∞—è",d:"–ü–æ–ª—É–∫–æ–ø—á—ë–Ω–∞—è, –ø–∏–∫–∞–Ω—Ç–Ω–∞—è",c:"meat",e:"üå≠",t:"–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ"},
  {n:"–°–∞–ª–æ —Å —á–µ—Å–Ω–æ–∫–æ–º",d:"–î–æ–º–∞—à–Ω–µ–µ, –Ω–µ–∂–Ω–æ–µ",c:"meat",e:"ü•ì",t:"–î–æ–º–∞—à–Ω–µ–µ"},
  {n:"–ü–µ–ª—å–º–µ–Ω–∏",d:"–†—É—á–Ω–æ–π –ª–µ–ø–∫–∏",c:"meat",e:"ü•ü",t:"–ó–∞–º–æ—Ä–æ–∑–∫–∞"},
  {n:"–°–æ—Å–∏—Å–∫–∏ –º–æ–ª–æ—á–Ω—ã–µ",d:"–ù–µ–∂–Ω—ã–µ, –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ",c:"meat",e:"üå≠",t:"–ö–ª–∞—Å—Å–∏–∫–∞"},
  {n:"–°–º–µ—Ç–∞–Ω–∞ 20%",d:"–ì—É—Å—Ç–∞—è, –Ω–∞—Å—Ç–æ—è—â–∞—è",c:"dairy",e:"ü•õ",t:"–°–≤–µ–∂–µ–µ"},
  {n:"–¢–≤–æ—Ä–æ–≥ —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–π",d:"–ë–µ–∑ –¥–æ–±–∞–≤–æ–∫",c:"dairy",e:"üßÄ",t:"–§–µ—Ä–º–µ—Ä—Å–∫–∏–π"},
  {n:"–ö–µ—Ñ–∏—Ä 3.2%",d:"–ñ–∏–≤—ã–µ –±–∞–∫—Ç–µ—Ä–∏–∏",c:"dairy",e:"ü•õ",t:"–°–≤–µ–∂–µ–µ"},
  {n:"–°—ã—Ä–∫–∏ –≥–ª–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ",d:"–í —à–æ–∫–æ–ª–∞–¥–µ, –≤–∞–Ω–∏–ª—å",c:"dairy",e:"üç´",t:"–•–∏—Ç"},
  {n:"–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ",d:"82.5%, –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ",c:"dairy",e:"üßà",t:"–§–µ—Ä–º–µ—Ä—Å–∫–æ–µ"},
  {n:"–ú–∏—à–∫–∞ –ö–æ—Å–æ–ª–∞–ø—ã–π",d:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –∫–æ–Ω—Ñ–µ—Ç—ã",c:"sweets",e:"üç¨",t:"–ö–ª–∞—Å—Å–∏–∫–∞"},
  {n:"–•–∞–ª–≤–∞ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω–∞—è",d:"–†–∞—Å—Å—ã–ø—á–∞—Ç–∞—è",c:"sweets",e:"üçØ",t:"–í–æ—Å—Ç–æ—á–Ω–∞—è"},
  {n:"Choco Pie",d:"–®–æ–∫–æ–ª–∞–¥–Ω—ã–µ –ø–∏—Ä–æ–∂–Ω—ã–µ",c:"sweets",e:"üç™",t:"–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ"},
  {n:"Mella –∫–æ–Ω—Ñ–µ—Ç—ã",d:"–ü–æ–ª—å—Å–∫–∏–µ, –∂–µ–ª–µ–π–Ω—ã–µ",c:"sweets",e:"üç¨",t:"–ò–º–ø–æ—Ä—Ç"},
  {n:"–¢—Ä—é—Ñ–µ–ª–∏ Pergale",d:"–õ–∏—Ç–æ–≤—Å–∫–∏–µ, –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ",c:"sweets",e:"üç´",t:"–ü—Ä–µ–º–∏—É–º"},
  {n:"Kinder —à–æ–∫–æ–ª–∞–¥",d:"–î–µ—Ç—Å–∫–∏–π, –º–æ–ª–æ—á–Ω—ã–π",c:"sweets",e:"üç´",t:"–î–µ—Ç—è–º"},
  {n:"–ë–æ—Ä–æ–¥–∏–Ω—Å–∫–∏–π —Ö–ª–µ–±",d:"–¢—ë–º–Ω—ã–π, –Ω–∞ –∑–∞–∫–≤–∞—Å–∫–µ",c:"bread",e:"üçû",t:"–°–≤–µ–∂–∏–π"},
  {n:"–õ–∞–≤–∞—à —Ç–æ–Ω–∫–∏–π",d:"–ê—Ä–º—è–Ω—Å–∫–∏–π, –º—è–≥–∫–∏–π",c:"bread",e:"ü•ñ",t:"–ï–∂–µ–¥–Ω–µ–≤–Ω–æ"},
  {n:"–ë—É–ª–æ—á–∫–∏ —Å –º–∞–∫–æ–º",d:"–° –º–∞–∫–æ–≤–æ–π –Ω–∞—á–∏–Ω–∫–æ–π",c:"bread",e:"üßÅ",t:"–í—ã–ø–µ—á–∫–∞"},
  {n:"–®–ø—Ä–æ—Ç—ã —Ä–∏–∂—Å–∫–∏–µ",d:"–ö–æ–ø—á—ë–Ω—ã–µ, –≤ –º–∞—Å–ª–µ",c:"canned",e:"üêü",t:"–ò–º–ø–æ—Ä—Ç"},
  {n:"–û–≥—É—Ä—Ü—ã –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ",d:"–•—Ä—É—Å—Ç—è—â–∏–µ, –±–æ—á–∫–æ–≤—ã–µ",c:"canned",e:"ü•í",t:"–î–æ–º–∞—à–Ω–∏–µ"},
  {n:"–ò–∫—Ä–∞ –∫–∞–±–∞—á–∫–æ–≤–∞—è",d:"–ü–æ –¥–æ–º–∞—à–Ω–µ–º—É —Ä–µ—Ü–µ–ø—Ç—É",c:"canned",e:"ü´ô",t:"–ö–æ–Ω—Å–µ—Ä–≤—ã"},
  {n:"–¢—É—à—ë–Ω–∫–∞ –≥–æ–≤—è–∂—å—è",d:"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è",c:"canned",e:"ü•´",t:"–ö–æ–Ω—Å–µ—Ä–≤—ã"},
  {n:"–ö–≤–∞—Å —Ö–ª–µ–±–Ω—ã–π",d:"–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π",c:"drinks",e:"üç∫",t:"–û—Å–≤–µ–∂–∞—é—â–µ–µ"},
  {n:"–ú–æ—Ä—Å –∫–ª—é–∫–≤–µ–Ω–Ω—ã–π",d:"–ò–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–π –∫–ª—é–∫–≤—ã",c:"drinks",e:"ü•§",t:"–ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ"},
  {n:"–ö–æ–º–ø–æ—Ç –≤–∏—à–Ω—ë–≤—ã–π",d:"–ö–∞–∫ —É –±–∞–±—É—à–∫–∏",c:"drinks",e:"üçí",t:"–î–æ–º–∞—à–Ω–∏–π"},
  {n:"–ú–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è –≤–æ–¥–∞",d:"–ë–æ—Ä–∂–æ–º–∏, –ï—Å—Å–µ–Ω—Ç—É–∫–∏",c:"drinks",e:"üíß",t:"–ò–º–ø–æ—Ä—Ç"},
  {n:"–ì—Ä–µ—á–∫–∞",d:"–Ø–¥—Ä–∏—Ü–∞, –ø–µ—Ä–≤—ã–π —Å–æ—Ä—Ç",c:"spices",e:"üåæ",t:"–ö—Ä—É–ø—ã"},
  {n:"–°–ø–µ—Ü–∏–∏ –≥—Ä—É–∑–∏–Ω—Å–∫–∏–µ",d:"–•–º–µ–ª–∏-—Å—É–Ω–µ–ª–∏, –∞–¥–∂–∏–∫–∞",c:"spices",e:"üßÇ",t:"–°–ø–µ—Ü–∏–∏"},
  {n:"–ú—É–∫–∞ –ø—à–µ–Ω–∏—á–Ω–∞—è",d:"–í—ã—Å—à–∏–π —Å–æ—Ä—Ç",c:"spices",e:"üåæ",t:"–û—Å–Ω–æ–≤–Ω–æ–µ"},
];

function renderProds(f='all') {
  const g = document.getElementById('prodGrid');
  const arr = f==='all' ? prods : prods.filter(p=>p.c===f);
  g.innerHTML = arr.map(p=>`
    <div class="prod-card">
      <span class="prod-emoji">${p.e}</span>
      <h3>${p.n}</h3>
      <p>${p.d}</p>
      <span class="prod-tag">${p.t}</span>
    </div>
  `).join('');
}

function fProd(c,btn) {
  document.querySelectorAll('.prod-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderProds(c);
}

// ===== BULLETIN BOARD =====
const noteColors = ['note-yellow','note-pink','note-blue','note-green','note-orange','note-white'];
const rotations = ['-2deg','-1deg','0.5deg','1.5deg','-1.5deg','2deg','0deg','-0.5deg'];

const notes = [
  {id:1,store:true,cat:'store',author:'Europe Market',
   text:'üéâ <strong>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</strong> –ú—ã —Ä–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∞—Å! –ó–∞—Ö–æ–¥–∏—Ç–µ, –ø—Ä–æ–±—É–π—Ç–µ, –æ–±—â–∞–π—Ç–µ—Å—å. –ü–∏—à–∏—Ç–µ –Ω–∞ –Ω–∞—à–µ–π —Å—Ç–µ–Ω–µ ‚Äî –¥–µ–ª–∏—Ç–µ—Å—å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏, –∏—â–∏—Ç–µ –∑–µ–º–ª—è–∫–æ–≤, –±—É–¥—å—Ç–µ –≤ –∫—É—Ä—Å–µ –∞–∫—Ü–∏–π!',
   time:'–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–æ üìå',likes:24,color:'note-yellow',rot:'-1deg'},
  {id:2,store:true,cat:'sale',author:'Europe Market',
   text:'üî• <strong>–ê–∫—Ü–∏—è –Ω–µ–¥–µ–ª–∏!</strong> –°–∫–∏–¥–∫–∞ 15% –Ω–∞ –í–°–ï –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã: —Å–º–µ—Ç–∞–Ω–∞, —Ç–≤–æ—Ä–æ–≥, –∫–µ—Ñ–∏—Ä, —Å—ã—Ä–∫–∏ –≥–ª–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ. –¢–æ–ª—å–∫–æ –¥–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è!',
   time:'2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥',likes:18,color:'note-pink',rot:'1.5deg'},
  {id:3,store:false,cat:'recipe',author:'–ú–∞—Ä–∏–Ω–∞ –ö.',
   text:'üç≥ <strong>–°—ã—Ä–Ω–∏–∫–∏!</strong> –¢–≤–æ—Ä–æ–≥ 500–≥ + 2 —è–π—Ü–∞ + 3 —Å—Ç.–ª. —Å–∞—Ö–∞—Ä–∞ + 4 —Å—Ç.–ª. –º—É–∫–∏. –û–±–∂–∞—Ä–∏—Ç—å –ø–æ 3 –º–∏–Ω —Å –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã. –¢–≤–æ—Ä–æ–≥ –∏–∑ Europe Market ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π, –Ω–µ –≤–æ–¥—è–Ω–∏—Å—Ç—ã–π! üëå',
   time:'5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥',likes:31,color:'note-green',rot:'-2deg'},
  {id:4,store:false,cat:'community',author:'–ê–ª–µ–∫—Å–µ–π –í.',
   text:'–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º! –ú—ã —Å —Å–µ–º—å—ë–π –ø–µ—Ä–µ–µ—Ö–∞–ª–∏ –≤ Cape Coral –∏–∑ –ú–æ—Å–∫–≤—ã üè† –ò—â–µ–º —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—É—é –∫–æ–º–ø–∞–Ω–∏—é. –ú–æ–∂–µ—Ç –∫—Ç–æ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Å—Ç—Ä–µ—á–∏ –∏–ª–∏ –±–∞—Ä–±–µ–∫—é? –ë—É–¥–µ–º —Ä–∞–¥—ã! üôå',
   time:'–í—á–µ—Ä–∞',likes:42,color:'note-blue',rot:'0.5deg'},
  {id:5,store:true,cat:'job',author:'Europe Market',
   text:'üíº <strong>–í–∞–∫–∞–Ω—Å–∏—è!</strong> –ò—â–µ–º –ø—Ä–æ–¥–∞–≤—Ü–∞-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞. –ó–Ω–∞–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞, –ø—Ä–∏–≤–µ—Ç–ª–∏–≤–æ—Å—Ç—å, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å. –ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫, —Ö–æ—Ä–æ—à–∏–µ —É—Å–ª–æ–≤–∏—è. –û–±—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ –º–∞–≥–∞–∑–∏–Ω!',
   time:'2 –¥–Ω—è –Ω–∞–∑–∞–¥',likes:15,color:'note-orange',rot:'-1.5deg'},
  {id:6,store:false,cat:'search',author:'–ï–ª–µ–Ω–∞ –°.',
   text:'üîç –ò—â—É –±–∞–Ω–∫–∏ –¥–ª—è –∑–∞–≥–æ—Ç–æ–≤–æ–∫ (0.5–ª –∏ 1–ª). –ï—Å–ª–∏ –µ—Å—Ç—å –ª–∏—à–Ω–∏–µ ‚Äî –∫—É–ø–ª—é –∏–ª–∏ –æ–±–º–µ–Ω—è—é –Ω–∞ –±–∞–Ω–∫—É –¥–æ–º–∞—à–Ω–µ–≥–æ –≤–∞—Ä–µ–Ω—å—è! üçì –†–∞–π–æ–Ω Fort Myers / Cape Coral.',
   time:'3 –¥–Ω—è –Ω–∞–∑–∞–¥',likes:8,color:'note-white',rot:'2deg'},
  {id:7,store:false,cat:'recipe',author:'–¢–∞—Ç—å—è–Ω–∞ –ú.',
   text:'ü•ó <strong>–í–∏–Ω–µ–≥—Ä–µ—Ç –ø–æ-–±—ã—Å—Ç—Ä–æ–º—É:</strong> –°–≤—ë–∫–ª—É, –∫–∞—Ä—Ç–æ—à–∫—É, –º–æ—Ä–∫–æ–≤—å –æ—Ç–≤–∞—Ä–∏—Ç—å. –î–æ–±–∞–≤–∏—Ç—å —Å–æ–ª—ë–Ω—ã–µ –æ–≥—É—Ä—Ü—ã –∏–∑ Europe Market (–±–æ—á–∫–æ–≤—ã–µ ‚Äî –æ–≥–æ–Ω—å!), –∑–µ–ª—ë–Ω—ã–π –≥–æ—Ä–æ—à–µ–∫, –º–∞—Å–ª–æ. –í–∫—É—Å –¥–µ—Ç—Å—Ç–≤–∞!',
   time:'4 –¥–Ω—è –Ω–∞–∑–∞–¥',likes:19,color:'note-yellow',rot:'-0.5deg'},
  {id:8,store:false,cat:'community',author:'–ù–∞—Ç–∞–ª—å—è –ü.',
   text:'–î–µ–≤–æ—á–∫–∏, –≤ —Å—É–±–±–æ—Ç—É –≤ 10 —É—Ç—Ä–∞ —Å–æ–±–∏—Ä–∞–µ–º—Å—è –Ω–∞ –ø–ª—è–∂ Sanibel. –ë–µ—Ä—ë–º —Å—ç–Ω–¥–≤–∏—á–∏ –∏–∑ Europe Market –∏ —á–∞–π –≤ —Ç–µ—Ä–º–æ—Å–µ ‚òÄÔ∏è –ö—Ç–æ —Å –Ω–∞–º–∏ ‚Äî –ø–∏—à–∏—Ç–µ! –ë–µ—Ä—ë–º –¥–µ—Ç–µ–π.',
   time:'5 –¥–Ω–µ–π –Ω–∞–∑–∞–¥',likes:26,color:'note-pink',rot:'1deg'},
  {id:9,store:true,cat:'store',author:'Europe Market',
   text:'üì¶ <strong>–ù–æ–≤–æ–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ!</strong> –ü—Ä–∏–≤–µ–∑–ª–∏ —Å–≤–µ–∂—É—é –ø–∞—Ä—Ç–∏—é: —Ç—Ä—é—Ñ–µ–ª–∏ Pergale, –∫–æ–Ω—Ñ–µ—Ç—ã Mella, Choco Pie, —Ö–∞–ª–≤—É, —Å–≤–µ–∂–∏–π –±–æ—Ä–æ–¥–∏–Ω—Å–∫–∏–π —Ö–ª–µ–±. –ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –ø–æ–∫–∞ –≤—Å—ë –µ—Å—Ç—å!',
   time:'–ù–µ–¥–µ–ª—é –Ω–∞–∑–∞–¥',likes:33,color:'note-green',rot:'-1deg'},
];

let allNotes = [...notes];
let noteId = allNotes.length + 1;
let boardFilter = 'all';

function renderNotes() {
  const grid = document.getElementById('notesGrid');
  const arr = boardFilter==='all' ? allNotes : allNotes.filter(n=>n.cat===boardFilter);
  
  if(!arr.length) {
    grid.innerHTML = '<p style="text-align:center;color:rgba(255,255,255,0.7);font-size:16px;padding:40px;grid-column:1/-1;">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>';
    return;
  }

  grid.innerHTML = arr.map(n => {
    const catLabels = {store:'–ú–ê–ì–ê–ó–ò–ù',sale:'–ê–ö–¶–ò–Ø',recipe:'–†–ï–¶–ï–ü–¢',community:'–°–û–û–ë–©–ï–°–¢–í–û',job:'–†–ê–ë–û–¢–ê',search:'–ò–©–£'};
    return `
    <div class="sticky-note ${n.color}" style="--rot:${n.rot};transform:rotate(${n.rot})">
      <div class="note-header">
        <span class="note-category">${catLabels[n.cat]||n.cat}</span>
        ${n.store ? '<span class="note-store-badge">EM OFFICIAL</span>' : ''}
      </div>
      <div class="note-author">${n.author}</div>
      <div class="note-text">${n.text}</div>
      <div class="note-footer">
        <span class="note-time">${n.time}</span>
        <div class="note-actions">
          <button class="note-action" onclick="likeNote(this,${n.id})">‚ù§Ô∏è ${n.likes}</button>
        </div>
      </div>
    </div>`;
  }).join('');
}

function fBoard(c,btn) {
  document.querySelectorAll('.bf-tag').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  boardFilter = c;
  renderNotes();
}

function likeNote(btn,id) {
  const n = allNotes.find(x=>x.id===id);
  if(btn.classList.contains('liked')) {
    n.likes--;
    btn.classList.remove('liked');
  } else {
    n.likes++;
    btn.classList.add('liked');
  }
  btn.textContent = '‚ù§Ô∏è ' + n.likes;
}

function openModal() { document.getElementById('modalOverlay').classList.add('open'); }
function closeModal() { document.getElementById('modalOverlay').classList.remove('open'); }

function submitNote() {
  const name = document.getElementById('nName').value.trim() || '–ê–Ω–æ–Ω–∏–º';
  const cat = document.getElementById('nCat').value;
  const text = document.getElementById('nText').value.trim();
  if(!text) { alert('–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è'); return; }

  allNotes.unshift({
    id: noteId++,
    store: false,
    cat: cat,
    author: name,
    text: text.replace(/\n/g,'<br>'),
    time: '–¢–æ–ª—å–∫–æ —á—Ç–æ',
    likes: 0,
    color: noteColors[Math.floor(Math.random()*noteColors.length)],
    rot: rotations[Math.floor(Math.random()*rotations.length)]
  });

  document.getElementById('nName').value = '';
  document.getElementById('nText').value = '';
  closeModal();
  renderNotes();
}

// Click outside modal to close
document.getElementById('modalOverlay').addEventListener('click', function(e) {
  if(e.target === this) closeModal();
});

// ===== CHAT =====
function toggleChat() {
  document.getElementById('chatWin').classList.toggle('open');
  document.getElementById('chatBadge').style.display = 'none';
}

const replies = {
  '—á–∞—Å':'–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –µ–∂–µ–¥–Ω–µ–≤–Ω–æ. –¢–æ—á–Ω—ã–µ —á–∞—Å—ã —É—Ç–æ—á–Ω—è–π—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: (239) 270-5210 üïê',
  '—Ä–∞–±–æ—Ç':'–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã —É—Ç–æ—á–Ω—è–π—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: (239) 270-5210. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!',
  '–∞–¥—Ä–µ—Å':'üìç 9131 College Parkway #120, Fort Myers, FL 33919',
  '–≥–¥–µ':'üìç –ú—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è: 9131 College Pkwy #120, Fort Myers, FL 33919. –†—è–¥–æ–º —Å College Parkway!',
  '–ø—Ä–∏–≤–µ—Ç':'–ü—Ä–∏–≤–µ—Ç! üòä –†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å! –ß–µ–º –ø–æ–º–æ—á—å?',
  '–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π':'–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üòä –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Europe Market! –ß–µ–º –º–æ–∂–µ–º –ø–æ–º–æ—á—å?',
  '–∞–∫—Ü':'üî• –°–µ–π—á–∞—Å —Å–∫–∏–¥–∫–∞ 15% –Ω–∞ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã! –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–∞—à–µ–π —Å—Ç–µ–Ω–æ–π –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è –Ω–æ–≤—ã—Ö –∞–∫—Ü–∏–π.',
  '—Å–∫–∏–¥–∫':'üî• –°–∫–∏–¥–∫–∞ 15% –Ω–∞ –º–æ–ª–æ—á–Ω–æ–µ –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏! –¢–∞–∫–∂–µ —É –Ω–∞—Å –µ—Å—Ç—å –∫—É–ø–æ–Ω –Ω–∞ 5% ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –≤ –º–∞–≥–∞–∑–∏–Ω–µ.',
  '–¥–æ—Å—Ç–∞–≤–∫':'üöó –ü–æ–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ—Ç, –Ω–æ –ø—Ä–∏–µ–∑–∂–∞–π—Ç–µ ‚Äî —É –Ω–∞—Å —É—é—Ç–Ω–æ! 9131 College Pkwy #120',
  '–∫–æ–ª–±–∞—Å':'ü•© –î–æ–∫—Ç–æ—Ä—Å–∫–∞—è, –ö—Ä–∞–∫–æ–≤—Å–∫–∞—è, —Å–µ—Ä–≤–µ–ª–∞—Ç, —Å–æ—Å–∏—Å–∫–∏ ‚Äî –≤—Å—ë —Å–≤–µ–∂–µ–µ! –ù–∞—Ä–µ–∂–µ–º –Ω–∞ –º–µ—Å—Ç–µ.',
  '—Ö–ª–µ–±':'üçû –ë–æ—Ä–æ–¥–∏–Ω—Å–∫–∏–π, –±–µ–ª—ã–π, –ª–∞–≤–∞—à, –±—É–ª–æ—á–∫–∏ ‚Äî —Å–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!',
  '—Å–º–µ—Ç–∞–Ω':'ü•õ –°–º–µ—Ç–∞–Ω–∞ 20% –≤—Å–µ–≥–¥–∞ –≤ –Ω–∞–ª–∏—á–∏–∏! –°–µ–π—á–∞—Å –µ—â—ë –∏ —Å–æ —Å–∫–∏–¥–∫–æ–π.',
  '—Ç–≤–æ—Ä–æ–≥':'üßÄ –§–µ—Ä–º–µ—Ä—Å–∫–∏–π —Ç–≤–æ—Ä–æ–≥, —Å—ã—Ä–∫–∏ –≥–ª–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ‚Äî –≤—Å—ë —Å–≤–µ–∂–µ–µ!',
  '–∫–æ–Ω—Ñ–µ—Ç':'üç¨ –ú–∏—à–∫–∞ –ö–æ—Å–æ–ª–∞–ø—ã–π, Mella, Pergale, Choco Pie ‚Äî –≤—Å–µ –ª—é–±–∏–º—ã–µ!',
  '–æ–±–µ–¥':'üç≤ –î–∞! –£ –Ω–∞—Å –≥–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã, —Å—É–ø—ã, —Å—ç–Ω–¥–≤–∏—á–∏ –∏ –≤—ã–ø–µ—á–∫–∞!',
  '—Å—É–ø':'üç≤ –ì–æ—Ä—è—á–∏–µ —Å—É–ø—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å! –ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –Ω–∞ –æ–±–µ–¥.',
  '–∫–æ—Ñ–µ':'‚òï –ö–æ—Ñ–µ –∏ —á–∞–π —Å —Å–æ–±–æ–π ‚Äî –∑–∞—Ö–æ–¥–∏—Ç–µ!',
  '–∏–∫—Ä':'üêü –ö—Ä–∞—Å–Ω–∞—è –∏ —á—ë—Ä–Ω–∞—è –∏–∫—Ä–∞ ‚Äî –≤—Å–µ–≥–¥–∞ –≤ –Ω–∞–ª–∏—á–∏–∏!',
  'ebt':'‚úÖ –î–∞, –º—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º SNAP EBT!',
  'snap':'‚úÖ –î–∞, –º—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º SNAP EBT!',
  '–∫–∞—Ä—Ç':'üí≥ –ü—Ä–∏–Ω–∏–º–∞–µ–º –∫–∞—Ä—Ç—ã, –Ω–∞–ª–∏—á–Ω—ã–µ –∏ SNAP EBT.',
  '—Å–ø–∞—Å–∏–±–æ':'–í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! üòä –ñ–¥—ë–º –≤–∞—Å –≤ –º–∞–≥–∞–∑–∏–Ω–µ!',
  '—Ç–µ–ª–µ—Ñ–æ–Ω':'üìû –û—Å–Ω–æ–≤–Ω–æ–π: (239) 270-5210. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ: (347) 475-2330, (786) 606-2959',
  'instagram':'üì∑ –ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å: @europefoodmarket –≤ Instagram!',
};

function getReply(msg) {
  const l = msg.toLowerCase();
  for(const [k,v] of Object.entries(replies)) {
    if(l.includes(k)) return v;
  }
  return '–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–æ–ø—Ä–æ—Å! –î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∑–≤–æ–Ω–∏—Ç–µ: (239) 270-5210 –∏–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –≤ –º–∞–≥–∞–∑–∏–Ω! üè™';
}

function sendMsg() {
  const inp = document.getElementById('chatIn');
  const msg = inp.value.trim();
  if(!msg) return;
  const box = document.getElementById('chatMsgs');
  const t = new Date();
  const ts = t.getHours().toString().padStart(2,'0')+':'+t.getMinutes().toString().padStart(2,'0');
  box.innerHTML += `<div class="cmsg user">${msg}<div class="tm">${ts}</div></div>`;
  inp.value = '';
  box.scrollTop = box.scrollHeight;
  setTimeout(()=>{
    box.innerHTML += `<div class="cmsg bot">${getReply(msg)}<div class="tm">${ts}</div></div>`;
    box.scrollTop = box.scrollHeight;
  }, 700);
}

// ===== LANGUAGE SWITCHER =====
let currentLang = 'ru';

function setLang(lang) {
  currentLang = lang;
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
  const btnId = lang === 'pl' ? 'langPl' : ('lang' + lang.charAt(0).toUpperCase() + lang.slice(1));
  document.getElementById(btnId).classList.add('active');
  
  // Translate all elements with data-ru/data-en/data-pl
  document.querySelectorAll('[data-' + lang + ']').forEach(el => {
    el.innerHTML = el.getAttribute('data-' + lang);
  });
}

const translations = {
  ru: {
    heroTitle: '<span style="color:#FFFFFF;font-weight:900;">EUROPE</span> <em style="color:#FFD700;font-weight:900;">MARKET</em>',
    heroSub: 'Grocery Store from Europe',
    heroDesc: '–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ Fort Myers, Florida.<br>–ü—Ä–æ–¥—É–∫—Ç—ã –∏–∑ <strong>–†–æ—Å—Å–∏–∏</strong>, <strong>–ë–µ–ª–æ—Ä—É—Å—Å–∏–∏</strong>, <strong>–£–∫—Ä–∞–∏–Ω—ã</strong>, <strong>–ü–æ–ª—å—à–∏</strong>, <strong>–ì–µ—Ä–º–∞–Ω–∏–∏</strong>, <strong>–ß–µ—Ö–∏–∏</strong> –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω ‚Äî <em style="color:var(--gold);font-style:normal;font-weight:800;">–≤—Å—ë –∫–∞–∫ –¥–æ–º–∞!</em>',
    tag1:'üçñ –ú—è—Å–æ –∏ –∫–æ–ª–±–∞—Å—ã', tag2:'üßÄ –°—ã—Ä—ã –∏ –º–æ–ª–æ—á–Ω–æ–µ', tag3:'üçû –°–≤–µ–∂–∏–π —Ö–ª–µ–±',
    tag4:'üç¨ –ö–æ–Ω—Ñ–µ—Ç—ã –∏ —Å–ª–∞–¥–æ—Å—Ç–∏', tag5:'‚òï –ö–æ—Ñ–µ –∏ —á–∞–π', tag6:'ü•£ –ì–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã',
    welcomeTitle:'–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', welcomeSub:'–í–∞—à –∫—É—Å–æ—á–µ–∫ –ï–≤—Ä–æ–ø—ã –≤ Southwest Florida',
    couponText:'üìß –ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫—É–ø–æ–Ω –ø–æ Email –∏–ª–∏ SMS üì±',
    svc1title:'–ì–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã', svc1desc:'–°—É–ø—ã, –≤—Ç–æ—Ä—ã–µ –±–ª—é–¥–∞',
    svc2title:'–°—ç–Ω–¥–≤–∏—á–∏', svc2desc:'–°–≤–µ–∂–∏–µ, –Ω–∞ –∑–∞–∫–∞–∑',
    svc3title:'–ö–æ—Ñ–µ –∏ —á–∞–π', svc3desc:'–ù–∞–ø–∏—Ç–∫–∏ —Å —Å–æ–±–æ–π',
    svc4title:'–í—ã–ø–µ—á–∫–∞', svc4desc:'–°–≤–µ–∂–∞—è, –∫–∞–∂–¥—ã–π –¥–µ–Ω—å',
    svc5title:'Deli', svc5desc:'–ù–∞—Ä–µ–∑–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑',
    svc6title:'–ò–∫—Ä–∞ –∏ —Ä—ã–±–∞', svc6desc:'–ö—Ä–∞—Å–Ω–∞—è, —á—ë—Ä–Ω–∞—è –∏–∫—Ä–∞',
    prodTitle:'–ù–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã', prodSub:'–ë–æ–ª–µ–µ 2000 –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –∏–∑ –ï–≤—Ä–æ–ø—ã',
    filterAll:'üìã –í—Å–µ', filterMeat:'ü•© –ú—è—Å–æ', filterDairy:'üßÄ –ú–æ–ª–æ—á–Ω–æ–µ', filterSweets:'üç¨ –°–ª–∞–¥–æ—Å—Ç–∏',
    filterBread:'üçû –•–ª–µ–±', filterCanned:'ü´ô –ö–æ–Ω—Å–µ—Ä–≤—ã', filterDrinks:'ü•§ –ù–∞–ø–∏—Ç–∫–∏', filterSpices:'üßÇ –ö—Ä—É–ø—ã –∏ —Å–ø–µ—Ü–∏–∏',
    boardTitle:'üìå –°—Ç–µ–Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π', addNote:'‚úèÔ∏è –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ',
    bfAll:'üìã –í—Å–µ', bfStore:'üè™ –ú–∞–≥–∞–∑–∏–Ω', bfSale:'üè∑Ô∏è –ê–∫—Ü–∏–∏', bfRecipe:'üç≥ –†–µ—Ü–µ–ø—Ç—ã',
    bfCommunity:'üë• –°–æ–æ–±—â–µ—Å—Ç–≤–æ', bfJob:'üíº –†–∞–±–æ—Ç–∞', bfSearch:'üîç –ò—â—É',
    aboutTitle:'–û –º–∞–≥–∞–∑–∏–Ω–µ', aboutSub:'Europe Market ‚Äî –≤–∞—à –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –º–∞–≥–∞–∑–∏–Ω –≤–æ –§–ª–æ—Ä–∏–¥–µ',
    about1title:'üè™ –û –Ω–∞—Å', about1text:'Europe Market ‚Äî –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ Fort Myers. –ú—ã –ø—Ä–∏–≤–æ–∑–∏–º –ª—É—á—à–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ –†–æ—Å—Å–∏–∏, –ë–µ–ª–æ—Ä—É—Å—Å–∏–∏, –£–∫—Ä–∞–∏–Ω—ã, –ü–æ–ª—å—à–∏, –ì–µ—Ä–º–∞–Ω–∏–∏, –ß–µ—Ö–∏–∏ –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω –ï–≤—Ä–æ–ø—ã. –ö–æ–ª–±–∞—Å—ã, –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, —Ö–ª–µ–±, –∫–æ–Ω—Ñ–µ—Ç—ã, –∫–æ–Ω—Å–µ—Ä–≤—ã ‚Äî –≤—Å—ë, —á—Ç–æ –≤—ã –ª—é–±–∏—Ç–µ!',
    about2title:'üç≤ –ö—É—Ö–Ω—è –∏ Deli', about2text:'–£ –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ä—è—á–∏–µ –æ–±–µ–¥—ã: —Å—É–ø—ã, –≤—Ç–æ—Ä—ã–µ –±–ª—é–¥–∞, —Å—ç–Ω–¥–≤–∏—á–∏. –°–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –ö–æ—Ñ–µ –∏ —á–∞–π –Ω–∞ –≤—ã–Ω–æ—Å. Deli ‚Äî –Ω–∞—Ä–µ–∂–µ–º –∫–æ–ª–±–∞—Å—É –∏ —Å—ã—Ä –ø–æ –≤–∞—à–µ–º—É –≤–∫—É—Å—É. –ö—Ä–∞—Å–Ω–∞—è –∏ —á—ë—Ä–Ω–∞—è –∏–∫—Ä–∞.',
    about3title:'ü§ù –°–æ–æ–±—â–µ—Å—Ç–≤–æ', about3text:'–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–∞–≥–∞–∑–∏–Ω ‚Äî –º—ã —Ü–µ–Ω—Ç—Ä –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ Southwest Florida. –ù–∞ –Ω–∞—à–µ–π —Å—Ç–µ–Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏, –∏—Å–∫–∞—Ç—å –∑–µ–º–ª—è–∫–æ–≤, —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–∞—à–∏—Ö –∞–∫—Ü–∏—è—Ö. –ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º SNAP EBT.',
    about4title:'üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã',
    mapBtn:'–ü—Ä–æ–ª–æ–∂–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç ‚Üí',
    msgTitle:'üí¨ –°–æ–æ–±—â–µ–Ω–∏—è', msgLoginTitle:'Europe Market Chat',
    msgLoginDesc:'–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Europe Market. –û–±—â–∞–π—Ç–µ—Å—å —Å –∑–µ–º–ª—è–∫–∞–º–∏, –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –º–∞–≥–∞–∑–∏–Ω—É!',
    msgLoginPlaceholder:'–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è...', msgLoginBtn:'–í–æ–π—Ç–∏ –≤ —á–∞—Ç ‚Üí',
    msgSearchPlaceholder:'–ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤...', msgInputPlaceholder:'–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ...',
    msgEmptyTitle:'–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç', msgEmptyDesc:'–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç —Å–ª–µ–≤–∞ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É',
    couponModalTitle:'–ü–æ–ª—É—á–∏—Ç–µ –∫—É–ø–æ–Ω 5% OFF!',
    couponModalDesc:'–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É–ø–æ–Ω–∞. –ü–æ–∫–∞–∂–∏—Ç–µ –∫—É–ø–æ–Ω –Ω–∞ –∫–∞—Å—Å–µ Europe Market.',
    couponEmailBtn:'üìß Email', couponSmsBtn:'üì± SMS',
    couponEmailPlaceholder:'–í–∞—à email –∞–¥—Ä–µ—Å...', couponSmsPlaceholder:'–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞...',
    couponSendBtn:'–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫—É–ø–æ–Ω üéâ', couponSuccessTitle:'–ö—É–ø–æ–Ω –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!',
    couponSuccessDesc:'–ü–æ–∫–∞–∂–∏—Ç–µ –∫—É–ø–æ–Ω –Ω–∞ –∫–∞—Å—Å–µ Europe Market –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏ 5%',
    couponYour:'–í–∞—à –∫—É–ø–æ–Ω', couponCancel:'–û—Ç–º–µ–Ω–∞', couponClose:'–ó–∞–∫—Ä—ã—Ç—å',
    noteModalTitle:'‚úèÔ∏è –ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ', noteName:'–í–∞—à–µ –∏–º—è', noteNamePh:'–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?',
    noteCat:'–ö–∞—Ç–µ–≥–æ—Ä–∏—è', noteText:'–¢–µ–∫—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è', noteTextPh:'–ù–∞–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å...',
    noteCancelBtn:'–û—Ç–º–µ–Ω–∞', noteSubmitBtn:'–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –Ω–∞ —Å—Ç–µ–Ω—É üìå'
  },
  en: {
    heroTitle: '<span style="color:#FFFFFF;font-weight:900;">EUROPE</span> <em style="color:#FFD700;font-weight:900;">MARKET</em>',
    heroSub: 'Grocery Store from Europe',
    heroDesc: 'European grocery store in Fort Myers, Florida.<br>Products from <strong>Russia</strong>, <strong>Belarus</strong>, <strong>Ukraine</strong>, <strong>Poland</strong>, <strong>Germany</strong>, <strong>Czech Republic</strong> and other countries ‚Äî <em style="color:var(--gold);font-style:normal;font-weight:800;">just like home!</em>',
    tag1:'üçñ Meat & Sausages', tag2:'üßÄ Cheese & Dairy', tag3:'üçû Fresh Bread',
    tag4:'üç¨ Candy & Sweets', tag5:'‚òï Coffee & Tea', tag6:'ü•£ Hot Lunches',
    welcomeTitle:'Welcome!', welcomeSub:'Your piece of Europe in Southwest Florida',
    couponText:'üìß Click to get your coupon via Email or SMS üì±',
    svc1title:'Hot Lunches', svc1desc:'Soups, main dishes',
    svc2title:'Sandwiches', svc2desc:'Fresh, made to order',
    svc3title:'Coffee & Tea', svc3desc:'Drinks to go',
    svc4title:'Bakery', svc4desc:'Fresh, every day',
    svc5title:'Deli', svc5desc:'Sliced to order',
    svc6title:'Caviar & Fish', svc6desc:'Red & black caviar',
    prodTitle:'Our Products', prodSub:'Over 2,000 items from Europe',
    filterAll:'üìã All', filterMeat:'ü•© Meat', filterDairy:'üßÄ Dairy', filterSweets:'üç¨ Sweets',
    filterBread:'üçû Bread', filterCanned:'ü´ô Canned', filterDrinks:'ü•§ Drinks', filterSpices:'üßÇ Grains & Spices',
    boardTitle:'üìå Bulletin Board', addNote:'‚úèÔ∏è Add Post',
    bfAll:'üìã All', bfStore:'üè™ Store', bfSale:'üè∑Ô∏è Sales', bfRecipe:'üç≥ Recipes',
    bfCommunity:'üë• Community', bfJob:'üíº Jobs', bfSearch:'üîç Looking for',
    aboutTitle:'About the Store', aboutSub:'Europe Market ‚Äî your European store in Florida',
    about1title:'üè™ About Us', about1text:'Europe Market is a European grocery store in Fort Myers. We bring the best products from Russia, Belarus, Ukraine, Poland, Germany, Czech Republic and other European countries. Sausages, dairy, bread, candy, canned goods ‚Äî everything you love!',
    about2title:'üç≤ Kitchen & Deli', about2text:'We have hot lunches: soups, main dishes, sandwiches. Fresh pastries every day. Coffee and tea to go. Deli ‚Äî we\'ll slice sausage and cheese to your taste. Red and black caviar.',
    about3title:'ü§ù Community', about3text:'We\'re not just a store ‚Äî we\'re the center of the European community in Southwest Florida. On our bulletin board you can share recipes, find fellow countrymen, learn about our sales. We accept SNAP EBT.',
    about4title:'üìû Contact',
    mapBtn:'Get Directions ‚Üí',
    msgTitle:'üí¨ Messages', msgLoginTitle:'Europe Market Chat',
    msgLoginDesc:'Europe Market community messenger. Chat with neighbors, ask the store questions!',
    msgLoginPlaceholder:'Enter your name...', msgLoginBtn:'Join Chat ‚Üí',
    msgSearchPlaceholder:'Search contacts...', msgInputPlaceholder:'Write a message...',
    msgEmptyTitle:'Select a Chat', msgEmptyDesc:'Choose a contact on the left to start chatting',
    couponModalTitle:'Get your 5% OFF Coupon!',
    couponModalDesc:'Choose how to receive your coupon. Show it at the Europe Market checkout.',
    couponEmailBtn:'üìß Email', couponSmsBtn:'üì± SMS',
    couponEmailPlaceholder:'Your email address...', couponSmsPlaceholder:'Your phone number...',
    couponSendBtn:'Send Coupon üéâ', couponSuccessTitle:'Coupon Sent!',
    couponSuccessDesc:'Show this coupon at Europe Market checkout for 5% off',
    couponYour:'Your Coupon', couponCancel:'Cancel', couponClose:'Close',
    noteModalTitle:'‚úèÔ∏è New Post', noteName:'Your Name', noteNamePh:'What\'s your name?',
    noteCat:'Category', noteText:'Post Text', noteTextPh:'Write here...',
    noteCancelBtn:'Cancel', noteSubmitBtn:'Pin to the board üìå'
  },
  pl: {
    heroTitle: '<span style="color:#FFFFFF;font-weight:900;">EUROPE</span> <em style="color:#FFD700;font-weight:900;">MARKET</em>',
    heroSub: 'Grocery Store from Europe',
    heroDesc: 'Europejski sklep spo≈ºywczy w Fort Myers, Floryda.<br>Produkty z <strong>Rosji</strong>, <strong>Bia≈Çorusi</strong>, <strong>Ukrainy</strong>, <strong>Polski</strong>, <strong>Niemiec</strong>, <strong>Czech</strong> i innych kraj√≥w ‚Äî <em style="color:var(--gold);font-style:normal;font-weight:800;">wszystko jak w domu!</em>',
    tag1:'üçñ Miƒôso i kie≈Çbasy', tag2:'üßÄ Sery i nabia≈Ç', tag3:'üçû ≈öwie≈ºy chleb',
    tag4:'üç¨ Cukierki i s≈Çodycze', tag5:'‚òï Kawa i herbata', tag6:'ü•£ GorƒÖce obiady',
    welcomeTitle:'Witamy!', welcomeSub:'Tw√≥j kawa≈Çek Europy w Southwest Florida',
    couponText:'üìß Kliknij aby otrzymaƒá kupon przez Email lub SMS üì±',
    svc1title:'GorƒÖce obiady', svc1desc:'Zupy, dania g≈Ç√≥wne',
    svc2title:'Kanapki', svc2desc:'≈öwie≈ºe, na zam√≥wienie',
    svc3title:'Kawa i herbata', svc3desc:'Napoje na wynos',
    svc4title:'Piekarnia', svc4desc:'≈öwie≈ºe, codziennie',
    svc5title:'Deli', svc5desc:'Krojone na zam√≥wienie',
    svc6title:'Kawior i ryby', svc6desc:'Czerwony i czarny kawior',
    prodTitle:'Nasze produkty', prodSub:'Ponad 2000 artyku≈Ç√≥w z Europy',
    filterAll:'üìã Wszystkie', filterMeat:'ü•© Miƒôso', filterDairy:'üßÄ Nabia≈Ç', filterSweets:'üç¨ S≈Çodycze',
    filterBread:'üçû Pieczywo', filterCanned:'ü´ô Konserwy', filterDrinks:'ü•§ Napoje', filterSpices:'üßÇ Kasze i przyprawy',
    boardTitle:'üìå Tablica og≈Çosze≈Ñ', addNote:'‚úèÔ∏è Dodaj og≈Çoszenie',
    bfAll:'üìã Wszystkie', bfStore:'üè™ Sklep', bfSale:'üè∑Ô∏è Promocje', bfRecipe:'üç≥ Przepisy',
    bfCommunity:'üë• Spo≈Çeczno≈õƒá', bfJob:'üíº Praca', bfSearch:'üîç Szukam',
    aboutTitle:'O sklepie', aboutSub:'Europe Market ‚Äî Tw√≥j europejski sklep na Florydzie',
    about1title:'üè™ O nas', about1text:'Europe Market to europejski sklep spo≈ºywczy w Fort Myers. Sprowadzamy najlepsze produkty z Rosji, Bia≈Çorusi, Ukrainy, Polski, Niemiec, Czech i innych kraj√≥w Europy. Kie≈Çbasy, nabia≈Ç, chleb, cukierki, konserwy ‚Äî wszystko, co kochasz!',
    about2title:'üç≤ Kuchnia i Deli', about2text:'Mamy gorƒÖce obiady: zupy, drugie dania, kanapki. ≈öwie≈ºe wypieki codziennie. Kawa i herbata na wynos. Deli ‚Äî pokroimy kie≈Çbasƒô i ser wed≈Çug Twojego gustu. Czerwony i czarny kawior.',
    about3title:'ü§ù Spo≈Çeczno≈õƒá', about3text:'Nie jeste≈õmy tylko sklepem ‚Äî jeste≈õmy centrum europejskiej spo≈Çeczno≈õci w Southwest Florida. Na naszej tablicy og≈Çosze≈Ñ mo≈ºesz dzieliƒá siƒô przepisami, szukaƒá rodak√≥w, dowiadywaƒá siƒô o promocjach. Akceptujemy SNAP EBT.',
    about4title:'üìû Kontakt',
    mapBtn:'Wyznacz trasƒô ‚Üí',
    msgTitle:'üí¨ Wiadomo≈õci', msgLoginTitle:'Europe Market Chat',
    msgLoginDesc:'Komunikator spo≈Çeczno≈õci Europe Market. Rozmawiaj z sƒÖsiadami, zadawaj pytania sklepowi!',
    msgLoginPlaceholder:'Wpisz swoje imiƒô...', msgLoginBtn:'Do≈ÇƒÖcz do czatu ‚Üí',
    msgSearchPlaceholder:'Szukaj kontakt√≥w...', msgInputPlaceholder:'Napisz wiadomo≈õƒá...',
    msgEmptyTitle:'Wybierz czat', msgEmptyDesc:'Wybierz kontakt po lewej aby rozpoczƒÖƒá rozmowƒô',
    couponModalTitle:'Odbierz kupon 5% zni≈ºki!',
    couponModalDesc:'Wybierz spos√≥b otrzymania kuponu. Poka≈º go przy kasie Europe Market.',
    couponEmailBtn:'üìß Email', couponSmsBtn:'üì± SMS',
    couponEmailPlaceholder:'Tw√≥j adres email...', couponSmsPlaceholder:'Tw√≥j numer telefonu...',
    couponSendBtn:'Wy≈õlij kupon üéâ', couponSuccessTitle:'Kupon wys≈Çany!',
    couponSuccessDesc:'Poka≈º kupon przy kasie Europe Market aby otrzymaƒá 5% zni≈ºki',
    couponYour:'Tw√≥j kupon', couponCancel:'Anuluj', couponClose:'Zamknij',
    noteModalTitle:'‚úèÔ∏è Nowe og≈Çoszenie', noteName:'Twoje imiƒô', noteNamePh:'Jak masz na imiƒô?',
    noteCat:'Kategoria', noteText:'Tre≈õƒá og≈Çoszenia', noteTextPh:'Napisz tutaj...',
    noteCancelBtn:'Anuluj', noteSubmitBtn:'Przypnij do tablicy üìå'
  }
};

// ===== MESSENGER =====
let currentUser = '';
let activeChat = null;

const contacts = [
  {id:'em', name:'Europe Market', avatar:'üè™', color:'#E21A22', online:true, 
   lastMsg:'–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –ø–æ–º–æ—á—å?', lastTime:'12:00', unread:1,
   messages:[
     {from:'em', text:'–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —á–∞—Ç Europe Market! üéâ', time:'11:58', date:'–°–µ–≥–æ–¥–Ω—è'},
     {from:'em', text:'–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö, –∞–∫—Ü–∏—è—Ö –∏ —á–∞—Å–∞—Ö —Ä–∞–±–æ—Ç—ã. –ú—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –ø–æ–º–æ—á—å!', time:'11:59'},
     {from:'em', text:'–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –ø–æ–º–æ—á—å?', time:'12:00'}
   ]},
  {id:'anna', name:'–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞', avatar:'–ê', color:'#9333EA', online:true,
   lastMsg:'–î–∞, –≤–∏–¥–µ–ª–∞! –°–º–µ—Ç–∞–Ω–∞ –æ—Ç–ª–∏—á–Ω–∞—è üëå', lastTime:'11:45', unread:2,
   messages:[
     {from:'anna', text:'–ü—Ä–∏–≤–µ—Ç! –¢—ã –±—ã–ª–∞ —Å–µ–≥–æ–¥–Ω—è –≤ Europe Market?', time:'11:30', date:'–°–µ–≥–æ–¥–Ω—è'},
     {from:'me', text:'–î–∞, –∑–∞—Ö–æ–¥–∏–ª–∞! –ö—É–ø–∏–ª–∞ —Ç–≤–æ—Ä–æ–≥ –∏ —Å—ã—Ä–∫–∏ üòã', time:'11:32'},
     {from:'anna', text:'–û, —Å—ã—Ä–∫–∏ –≥–ª–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ? –ö–∞–∫–∏–µ –≤–∑—è–ª–∞?', time:'11:35'},
     {from:'me', text:'–í–∞–Ω–∏–ª—å–Ω—ã–µ –∏ —Å –≤–∞—Ä–µ–Ω–æ–π —Å–≥—É—â—ë–Ω–∫–æ–π. –ï—â—ë —Å–º–µ—Ç–∞–Ω—É –≤–∑—è–ª–∞ ‚Äî –æ–Ω–∞ —Å–µ–π—á–∞—Å —Å–æ —Å–∫–∏–¥–∫–æ–π 15%!', time:'11:40'},
     {from:'anna', text:'–î–∞, –≤–∏–¥–µ–ª–∞! –°–º–µ—Ç–∞–Ω–∞ –æ—Ç–ª–∏—á–Ω–∞—è üëå', time:'11:45'}
   ]},
  {id:'dmitry', name:'–î–º–∏—Ç—Ä–∏–π –ö–æ–∑–ª–æ–≤', avatar:'–î', color:'#2563EB', online:false,
   lastMsg:'–ñ–¥—É –≤ —Å—É–±–±–æ—Ç—É –Ω–∞ –±–∞—Ä–±–µ–∫—é!', lastTime:'–í—á–µ—Ä–∞', unread:0,
   messages:[
     {from:'dmitry', text:'–ü—Ä–∏–≤–µ—Ç! –ú—ã —Å —Ä–µ–±—è—Ç–∞–º–∏ —Å–æ–±–∏—Ä–∞–µ–º—Å—è –≤ —Å—É–±–±–æ—Ç—É –Ω–∞ –±–∞—Ä–±–µ–∫—é –≤ Cape Coral', time:'18:20', date:'–í—á–µ—Ä–∞'},
     {from:'dmitry', text:'–£ Veteran\'s Park, —Å 12 –¥–Ω—è. –ë—É–¥–µ—à—å?', time:'18:21'},
     {from:'me', text:'–ü—Ä–∏–≤–µ—Ç! –ó–≤—É—á–∏—Ç –æ—Ç–ª–∏—á–Ω–æ, —è –∑–∞! –ß—Ç–æ –ø—Ä–∏–Ω–µ—Å—Ç–∏?', time:'18:45'},
     {from:'dmitry', text:'–ë–µ—Ä–∏ –∫–æ–ª–±–∞—Å–∫–∏ –∏ —Ö–ª–µ–± –∏–∑ Europe Market ‚Äî –∏—Ö –∫—Ä–∞–∫–æ–≤—Å–∫–∞—è –∫–æ–ª–±–∞—Å–∞ –æ–≥–æ–Ω—å –¥–ª—è –≥—Ä–∏–ª—è üî•', time:'19:00'},
     {from:'me', text:'–î–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å! –í–æ–∑—å–º—É –µ—â—ë –∫–≤–∞—Å üç∫', time:'19:10'},
     {from:'dmitry', text:'–ñ–¥—É –≤ —Å—É–±–±–æ—Ç—É –Ω–∞ –±–∞—Ä–±–µ–∫—é!', time:'19:12'}
   ]},
  {id:'marina', name:'–ú–∞—Ä–∏–Ω–∞ –ö—É–ª–∏–Ω–∞—Ä', avatar:'–ú', color:'#DC2626', online:true,
   lastMsg:'–†–µ—Ü–µ–ø—Ç –±–æ—Ä—â–∞ —Å–∫–∏–Ω—É –≤–µ—á–µ—Ä–æ–º üç≤', lastTime:'10:30', unread:0,
   messages:[
     {from:'me', text:'–ú–∞—Ä–∏–Ω–∞, –ø—Ä–∏–≤–µ—Ç! –ú–æ–∂–µ—à—å —Å–∫–∏–Ω—É—Ç—å —Ä–µ—Ü–µ–ø—Ç –±–æ—Ä—â–∞? –¢–æ–≥–æ —Å–∞–º–æ–≥–æ, –∏–∑ —Å–≤—ë–∫–ª—ã Europe Market', time:'10:15', date:'–°–µ–≥–æ–¥–Ω—è'},
     {from:'marina', text:'–ü—Ä–∏–≤–µ—Ç! –ö–æ–Ω–µ—á–Ω–æ! –¢–∞–º —Å–≤—ë–∫–ª–∞ —Ç–∞–∫–∞—è —Å–ª–∞–¥–∫–∞—è, –ø—Ä—è–º –∏–¥–µ–∞–ª—å–Ω–∞—è –¥–ª—è –±–æ—Ä—â–∞', time:'10:20'},
     {from:'marina', text:'–†–µ—Ü–µ–ø—Ç –±–æ—Ä—â–∞ —Å–∫–∏–Ω—É –≤–µ—á–µ—Ä–æ–º üç≤', time:'10:30'}
   ]},
  {id:'natasha', name:'–ù–∞—Ç–∞–ª—å—è –°.', avatar:'–ù', color:'#059669', online:false,
   lastMsg:'–°–ø–∞—Å–∏–±–æ –∑–∞ –±–∞–Ω–∫–∏! ü´ô', lastTime:'–ü–Ω', unread:0,
   messages:[
     {from:'natasha', text:'–ü—Ä–∏–≤–µ—Ç! –Ø –≤–∏–¥–µ–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å–∫–µ ‚Äî —É —Ç–µ–±—è –µ—Å—Ç—å –±–∞–Ω–∫–∏ –¥–ª—è –∑–∞–≥–æ—Ç–æ–≤–æ–∫?', time:'14:00', date:'–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫'},
     {from:'me', text:'–ü—Ä–∏–≤–µ—Ç! –î–∞, –µ—Å—Ç—å —à—Ç—É–∫ 10, 0.5 –ª–∏—Ç—Ä–∞. –ó–∞–±–µ—Ä—ë—à—å?', time:'14:30'},
     {from:'natasha', text:'–î–∞! –ú–æ–≥—É –∑–∞–≤—Ç—Ä–∞ –ø–æ–¥—ä–µ—Ö–∞—Ç—å –∫ Europe Market, –∑–∞–±–µ—Ä—É —Ç–∞–º', time:'14:35'},
     {from:'me', text:'–û–∫, –¥–∞–≤–∞–π –≤ 3 —á–∞—Å–∞ —É –≤—Ö–æ–¥–∞', time:'14:40'},
     {from:'natasha', text:'–°–ø–∞—Å–∏–±–æ –∑–∞ –±–∞–Ω–∫–∏! ü´ô', time:'16:00'}
   ]},
  {id:'viktor', name:'–í–∏–∫—Ç–æ—Ä –ò–≤–∞–Ω–æ–≤', avatar:'–í', color:'#D97706', online:true,
   lastMsg:'–ö—Ç–æ –∏–¥—ë—Ç –Ω–∞ —Ä—ã–±–∞–ª–∫—É –≤ –ø—è—Ç–Ω–∏—Ü—É?', lastTime:'09:15', unread:0,
   messages:[
     {from:'viktor', text:'–ù–∞—Ä–æ–¥, –∫—Ç–æ –∏–¥—ë—Ç –Ω–∞ —Ä—ã–±–∞–ª–∫—É –≤ –ø—è—Ç–Ω–∏—Ü—É? –ï–¥–µ–º –Ω–∞ Sanibel pier', time:'09:10', date:'–°–µ–≥–æ–¥–Ω—è'},
     {from:'viktor', text:'–ö—Ç–æ –∏–¥—ë—Ç –Ω–∞ —Ä—ã–±–∞–ª–∫—É –≤ –ø—è—Ç–Ω–∏—Ü—É?', time:'09:15'}
   ]},
  {id:'group', name:'–†—É—Å—Å–∫–∏–π Fort Myers', avatar:'üë•', color:'#003DA5', online:true,
   lastMsg:'–û–ª–µ–≥: –ö—Ç–æ –ø—Ä–æ–±–æ–≤–∞–ª –Ω–æ–≤—ã–π —Ö–ª–µ–± –≤ EM?', lastTime:'11:20', unread:3,
   messages:[
     {from:'group_elena', name:'–ï–ª–µ–Ω–∞', text:'–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –ö—Ç–æ –∑–Ω–∞–µ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∞ –≤ Cape Coral?', time:'10:00', date:'–°–µ–≥–æ–¥–Ω—è'},
     {from:'group_igor', name:'–ò–≥–æ—Ä—å', text:'Dr. Smith –Ω–∞ Del Prado ‚Äî –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π', time:'10:15'},
     {from:'me', text:'–°–æ–≥–ª–∞—Å–Ω–∞, –º—ã —Ç–æ–∂–µ –∫ –Ω–µ–º—É —Ö–æ–¥–∏–º!', time:'10:20'},
     {from:'group_elena', name:'–ï–ª–µ–Ω–∞', text:'–°–ø–∞—Å–∏–±–æ! –ó–∞–ø–∏—à—É—Å—å üòä', time:'10:30'},
     {from:'group_oleg', name:'–û–ª–µ–≥', text:'–ö—Ç–æ –ø—Ä–æ–±–æ–≤–∞–ª –Ω–æ–≤—ã–π —Ö–ª–µ–± –≤ EM? –ë–æ—Ä–æ–¥–∏–Ω—Å–∫–∏–π ‚Äî –ø—Ä–æ—Å—Ç–æ –º–µ—á—Ç–∞!', time:'11:20'}
   ]}
];

const botReplies = {
  '—á–∞—Å':'–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –µ–∂–µ–¥–Ω–µ–≤–Ω–æ! –¢–æ—á–Ω—ã–µ —á–∞—Å—ã —É—Ç–æ—á–Ω—è–π—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: (239) 270-5210 üïê',
  '—Ä–∞–±–æ—Ç':'–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã —É—Ç–æ—á–Ω—è–π—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: (239) 270-5210 üïê',
  '–∞–∫—Ü':'üî• –°–∫–∏–¥–∫–∞ 15% –Ω–∞ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è!',
  '—Å–∫–∏–¥–∫':'üî• –°–∫–∏–¥–∫–∞ 15% –Ω–∞ –º–æ–ª–æ—á–Ω–æ–µ! –¢–∞–∫–∂–µ –µ—Å—Ç—å –∫—É–ø–æ–Ω 5% ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –≤ –º–∞–≥–∞–∑–∏–Ω–µ.',
  '–∞–¥—Ä–µ—Å':'üìç 9131 College Pkwy #120, Fort Myers, FL 33919',
  '–≥–¥–µ':'üìç –ú—ã –ø–æ –∞–¥—Ä–µ—Å—É: 9131 College Pkwy #120, Fort Myers, FL 33919',
  '–ø—Ä–∏–≤–µ—Ç':'–ü—Ä–∏–≤–µ—Ç! üòä –†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤ —á–∞—Ç–µ!',
  '–∫–æ–ª–±–∞—Å':'ü•© –î–æ–∫—Ç–æ—Ä—Å–∫–∞—è, –ö—Ä–∞–∫–æ–≤—Å–∫–∞—è, —Å–µ—Ä–≤–µ–ª–∞—Ç ‚Äî –≤—Å—ë —Å–≤–µ–∂–µ–µ!',
  '—Ö–ª–µ–±':'üçû –ë–æ—Ä–æ–¥–∏–Ω—Å–∫–∏–π, –ª–∞–≤–∞—à, –±—É–ª–æ—á–∫–∏ ‚Äî —Å–≤–µ–∂–µ–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!',
  '—Ç–≤–æ—Ä–æ–≥':'üßÄ –§–µ—Ä–º–µ—Ä—Å–∫–∏–π —Ç–≤–æ—Ä–æ–≥, —Å—ã—Ä–∫–∏ ‚Äî –≤—Å—ë –µ—Å—Ç—å!',
  '–∏–∫—Ä':'üêü –ö—Ä–∞—Å–Ω–∞—è –∏ —á—ë—Ä–Ω–∞—è –∏–∫—Ä–∞ –≤ –Ω–∞–ª–∏—á–∏–∏!',
  'ebt':'‚úÖ –î–∞, –º—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º SNAP EBT!',
  'snap':'‚úÖ –î–∞, –º—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º SNAP EBT!',
  '–¥–æ—Å—Ç–∞–≤–∫':'üöó –ü–æ–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ—Ç, –Ω–æ –ø—Ä–∏–µ–∑–∂–∞–π—Ç–µ!',
  '—Å–ø–∞—Å–∏–±–æ':'–í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! üòä –ñ–¥—ë–º –≤–∞—Å!',
  '—Ç–µ–ª–µ—Ñ–æ–Ω':'üìû (239) 270-5210, (347) 475-2330, (786) 606-2959'
};

const emojiList = ['üòä','üëç','‚ù§Ô∏è','üî•','üòÇ','üôè','üëå','üéâ','üòã','ü§î','üòç','üí™'];

function loginChat() {
  const name = document.getElementById('msgUsername').value.trim();
  if(!name) { alert('–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è'); return; }
  currentUser = name;
  document.getElementById('msgLogin').style.display = 'none';
  document.getElementById('messengerApp').style.display = 'grid';
  document.getElementById('msgUserLabel').textContent = '–í—ã: ' + name;
  renderContacts();
}

function renderContacts(filter='') {
  const el = document.getElementById('msgContacts');
  const filtered = filter ? contacts.filter(c => c.name.toLowerCase().includes(filter.toLowerCase())) : contacts;
  el.innerHTML = filtered.map(c => `
    <div class="msg-contact ${activeChat===c.id?'active':''}" onclick="openChat('${c.id}')">
      <div class="msg-contact-avatar" style="background:${c.color}">
        ${c.avatar}
        ${c.online ? '<div class="online-dot"></div>' : ''}
      </div>
      <div class="msg-contact-info">
        <h4>${c.name} <span class="time">${c.lastTime}</span></h4>
        <p>${c.lastMsg}</p>
      </div>
      ${c.unread ? `<div class="msg-unread">${c.unread}</div>` : ''}
    </div>
  `).join('');
}

function searchContacts(val) { renderContacts(val); }

function openChat(id) {
  activeChat = id;
  const c = contacts.find(x => x.id === id);
  if(!c) return;
  c.unread = 0;

  document.getElementById('msgEmpty').style.display = 'none';
  const content = document.getElementById('msgChatContent');
  content.style.display = 'flex';
  content.style.flexDirection = 'column';
  content.style.flex = '1';

  document.getElementById('chatHeaderAvatar').textContent = c.avatar;
  document.getElementById('chatHeaderAvatar').style.background = c.color;
  document.getElementById('chatHeaderName').textContent = c.name;
  document.getElementById('chatHeaderStatus').textContent = c.online ? '‚óè –û–Ω–ª–∞–π–Ω' : '‚óã –ù–µ –≤ —Å–µ—Ç–∏';
  document.getElementById('chatHeaderStatus').style.color = c.online ? '#22C55E' : '#9CA3AF';

  document.querySelector('.messenger-container').classList.add('chat-open');

  renderMessages(c);
  renderContacts();
}

function closeChat() {
  document.querySelector('.messenger-container').classList.remove('chat-open');
}

function renderMessages(c) {
  const el = document.getElementById('msgMessages');
  let html = '';
  let lastDate = '';

  c.messages.forEach(m => {
    if(m.date && m.date !== lastDate) {
      html += `<div class="msg-date-divider"><span>${m.date}</span></div>`;
      lastDate = m.date;
    }

    const isSent = m.from === 'me';
    const isGroup = m.from && m.from.startsWith('group_');
    const senderName = isGroup ? m.name : '';
    const avatarText = isSent ? currentUser[0].toUpperCase() : (isGroup ? m.name[0] : c.avatar);
    const avatarColor = isSent ? '#003DA5' : (isGroup ? getGroupColor(m.from) : c.color);

    html += `
      <div class="msg-bubble-row ${isSent ? 'sent' : 'received'}">
        <div class="msg-bubble-avatar" style="background:${avatarColor}">${avatarText}</div>
        <div class="msg-bubble">
          ${senderName ? `<div style="font-size:12px;font-weight:700;color:${avatarColor};margin-bottom:4px;">${senderName}</div>` : ''}
          ${m.text}
          <span class="msg-time">${m.time} ${isSent ? '‚úì‚úì' : ''}</span>
        </div>
      </div>`;
  });

  el.innerHTML = html;
  el.scrollTop = el.scrollHeight;
}

function getGroupColor(from) {
  const colors = {'group_elena':'#9333EA','group_igor':'#2563EB','group_oleg':'#D97706','group_olga':'#059669'};
  return colors[from] || '#6B7280';
}

function sendMessage() {
  const inp = document.getElementById('msgInput');
  const text = inp.value.trim();
  if(!text || !activeChat) return;

  const c = contacts.find(x => x.id === activeChat);
  const now = new Date();
  const time = now.getHours().toString().padStart(2,'0')+':'+now.getMinutes().toString().padStart(2,'0');

  c.messages.push({from:'me', text: text, time: time});
  c.lastMsg = text;
  c.lastTime = time;

  inp.value = '';
  renderMessages(c);
  renderContacts();

  // Auto-reply for Europe Market
  if(activeChat === 'em') {
    document.getElementById('msgTyping').classList.add('visible');
    setTimeout(() => {
      document.getElementById('msgTyping').classList.remove('visible');
      const lower = text.toLowerCase();
      let reply = '–°–ø–∞—Å–∏–±–æ –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ! –ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤–∞–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è. –ò–ª–∏ –ø–æ–∑–≤–æ–Ω–∏—Ç–µ: (239) 270-5210 üìû';
      for(const [k,v] of Object.entries(botReplies)) {
        if(lower.includes(k)) { reply = v; break; }
      }
      c.messages.push({from:'em', text: reply, time: time});
      c.lastMsg = reply;
      renderMessages(c);
      renderContacts();
    }, 1200);
  }

  // Simulate replies from other users
  if(activeChat !== 'em' && activeChat !== 'group' && Math.random() > 0.5) {
    setTimeout(() => {
      document.getElementById('msgTyping').classList.add('visible');
      setTimeout(() => {
        document.getElementById('msgTyping').classList.remove('visible');
        const autoReplies = [
          '–•–æ—Ä–æ—à–æ, –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å! üëç','–û–≥–æ, –∑–¥–æ—Ä–æ–≤–æ! üòä','–°–ø–∞—Å–∏–±–æ!','–î–∞, –∫–æ–Ω–µ—á–Ω–æ!',
          '–õ–∞–¥–Ω–æ, –Ω–∞–ø–∏—à—É –ø–æ–∑–∂–µ','–ê—Ö–∞—Ö, —Ç–æ—á–Ω–æ! üòÇ','–í—Å—Ç—Ä–µ—Ç–∏–º—Å—è —É Europe Market?',
          '–û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è!','–ù–∞–¥–æ –ø–æ–¥—É–º–∞—Ç—å ü§î','–ë—É–¥—É —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç!'
        ];
        const reply = autoReplies[Math.floor(Math.random()*autoReplies.length)];
        c.messages.push({from:activeChat, text: reply, time: time});
        c.lastMsg = reply;
        renderMessages(c);
        renderContacts();
      }, 1500);
    }, 2000);
  }
}

function addEmoji() {
  const inp = document.getElementById('msgInput');
  const emoji = emojiList[Math.floor(Math.random()*emojiList.length)];
  inp.value += emoji;
  inp.focus();
}

// ===== COUPON =====
let couponMethod = '';

function openCoupon() {
  document.getElementById('couponOverlay').style.display = 'flex';
  document.getElementById('couponSuccess').style.display = 'none';
  document.getElementById('couponSendBtn').style.display = 'none';
  document.getElementById('couponEmailField').style.display = 'none';
  document.getElementById('couponSmsField').style.display = 'none';
  document.getElementById('couponCancelBtn').style.display = 'flex';
  document.getElementById('cmEmail').style.background = 'white';
  document.getElementById('cmEmail').style.borderColor = '#E5E7EB';
  document.getElementById('cmSms').style.background = 'white';
  document.getElementById('cmSms').style.borderColor = '#E5E7EB';
  couponMethod = '';
}

function closeCoupon() {
  document.getElementById('couponOverlay').style.display = 'none';
}

function setCouponMethod(method) {
  couponMethod = method;
  document.getElementById('couponEmailField').style.display = method === 'email' ? 'block' : 'none';
  document.getElementById('couponSmsField').style.display = method === 'sms' ? 'block' : 'none';
  document.getElementById('couponSendBtn').style.display = 'block';
  document.getElementById('cmEmail').style.background = method === 'email' ? '#FFF0F0' : 'white';
  document.getElementById('cmEmail').style.borderColor = method === 'email' ? 'var(--red)' : '#E5E7EB';
  document.getElementById('cmSms').style.background = method === 'sms' ? '#FFF0F0' : 'white';
  document.getElementById('cmSms').style.borderColor = method === 'sms' ? 'var(--red)' : '#E5E7EB';
}

function sendCoupon() {
  const email = document.getElementById('couponEmail').value.trim();
  const phone = document.getElementById('couponPhone').value.trim();
  
  if(couponMethod === 'email' && !email) { alert('–í–≤–µ–¥–∏—Ç–µ email!'); return; }
  if(couponMethod === 'sms' && !phone) { alert('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞!'); return; }
  
  const code = 'EM-' + Math.random().toString(36).substr(2,6).toUpperCase();
  document.getElementById('couponCode').textContent = code;
  
  document.getElementById('couponEmailField').style.display = 'none';
  document.getElementById('couponSmsField').style.display = 'none';
  document.getElementById('couponSendBtn').style.display = 'none';
  document.getElementById('couponCancelBtn').style.display = 'none';
  document.querySelectorAll('#couponOverlay .modal > div:nth-child(1), #couponOverlay .modal > h3, #couponOverlay .modal > p, #couponOverlay .modal > div:nth-child(4)').forEach(el => el.style.display = 'none');
  document.getElementById('couponSuccess').style.display = 'block';
}

// ===== INIT =====
renderProds();
renderNotes();
</script>
</body>
</html>
